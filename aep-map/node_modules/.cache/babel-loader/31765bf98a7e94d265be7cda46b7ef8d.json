{"ast":null,"code":"var appTime = {\n  name: 'appTime',\n  reducer: function () {\n    return Date.now();\n  },\n  selectAppTime: function (state) {\n    return state.appTime;\n  }\n};\nvar changes = {\n  STARTED: 1,\n  FINISHED: -1,\n  FAILED: -1\n};\nvar re = /_(STARTED|FINISHED|FAILED)$/;\nvar asyncCount = {\n  name: 'asyncCount',\n  reducer: function (state, ref) {\n    if (state === void 0) state = 0;\n    var type = ref.type;\n    var result = re.exec(type);\n\n    if (!result) {\n      return state;\n    }\n\n    return state + changes[result[1]];\n  },\n  selectAsyncActive: function (state) {\n    return state.asyncCount > 0;\n  }\n};\n\nvar namedActionMiddleware = function (store) {\n  return function (next) {\n    return function (action) {\n      var actionCreator = action.actionCreator;\n      var args = action.args;\n\n      if (actionCreator) {\n        var found = store.meta.unboundActionCreators[actionCreator];\n\n        if (!found) {\n          throw Error(\"NoSuchActionCreator: \" + actionCreator);\n        }\n\n        return next(args ? found.apply(void 0, args) : found());\n      }\n\n      return next(action);\n    };\n  };\n};\n\nvar thunkMiddleware = function (extraArgCreators) {\n  return function (store) {\n    var extraArgs = extraArgCreators.reduce(function (result, fn) {\n      return Object.assign(result, fn(store));\n    }, {});\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          var getState = store.getState;\n          var dispatch = store.dispatch;\n          return action(Object.assign({}, {\n            getState: getState,\n            dispatch: dispatch,\n            store: store\n          }, extraArgs));\n        }\n\n        return next(action);\n      };\n    };\n  };\n};\n\nfunction symbolObservablePonyfill(root) {\n  var result;\n  var Symbol = root.Symbol;\n\n  if (typeof Symbol === 'function') {\n    if (Symbol.observable) {\n      result = Symbol.observable;\n    } else {\n      result = Symbol('observable');\n      Symbol.observable = result;\n    }\n  } else {\n    result = '@@observable';\n  }\n\n  return result;\n}\n/* global window */\n\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = symbolObservablePonyfill(root);\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\n\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[result] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[result] = observable, _ref2;\n}\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\n\n\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers);\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(\"Dispatching while constructing your middleware is not allowed. \" + \"Other middleware would not be applied to this dispatch.\");\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n} // Modified to expose all of `store` to middleware instead of just\n\n\nvar customApplyMiddleware = function () {\n  var middlewares = [],\n      len = arguments.length;\n\n  while (len--) middlewares[len] = arguments[len];\n\n  return function (createStore$$1) {\n    return function (reducer, preloadedState, enhancer) {\n      var store = createStore$$1(reducer, preloadedState, enhancer);\n      var chain = middlewares.map(function (middleware) {\n        return middleware(store);\n      });\n      store.dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return store;\n    };\n  };\n};\n\nfunction defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  } // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n\n\n  var length = prev.length;\n\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n  var lastArgs = null;\n  var lastResult = null; // we reference arguments instead of spreading them for performance reasons\n\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nfunction createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++; // apply arguments instead of spreading for performance.\n\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions)); // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n\n    var selector = defaultMemoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      } // apply arguments instead of spreading for performance.\n\n\n      return memoizedResultFunc.apply(null, params);\n    });\n    selector.resultFunc = resultFunc;\n\n    selector.recomputations = function () {\n      return recomputations;\n    };\n\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n\n    return selector;\n  };\n}\n\nvar createSelector = createSelectorCreator(defaultMemoize);\n\nvar ensureFn = function (obj, name) {\n  if (typeof name !== 'string') {\n    return name;\n  }\n\n  var found = obj[name];\n\n  if (!found) {\n    throw Error('No selector ' + name + ' found on the obj.');\n  }\n\n  return found;\n};\n\nvar createSelector$1 = function () {\n  var fns = [],\n      len = arguments.length;\n\n  while (len--) fns[len] = arguments[len];\n\n  var resultFunc = fns.slice(-1)[0];\n\n  var deferredSelector = function (obj, deps) {\n    var newArgs = deps.map(function (fn) {\n      return ensureFn(obj, fn);\n    });\n    newArgs.push(resultFunc);\n    return createSelector.apply(void 0, newArgs);\n  };\n\n  deferredSelector.deps = fns.slice(0, -1);\n  deferredSelector.resultFunc = resultFunc;\n  return deferredSelector;\n};\n\nvar resolveSelectors = function (obj) {\n  // an item is resolved if it is either a\n  // function with no dependencies or if\n  // it's on the object with no dependencies\n  var isResolved = function (name) {\n    return name.call && !name.deps || !obj[name].deps;\n  }; // flag for checking if we have *any*\n\n\n  var hasAtLeastOneResolved = false; // extract all deps and any resolved items\n\n  var loop = function (selectorName) {\n    var fn = obj[selectorName];\n\n    if (!isResolved(selectorName)) {\n      fn.deps = fn.deps.map(function (val, index) {\n        // if it is a function not a string\n        if (val.call) {\n          // look for it already on the object\n          for (var key in obj) {\n            if (obj[key] === val) {\n              // return its name if found\n              return key;\n            }\n          } // we didn't find it and it doesn't have a name\n          // but if it's a fully resolved selector that's ok\n\n\n          if (!val.deps) {\n            hasAtLeastOneResolved = true;\n            return val;\n          }\n        } // the `val` is a string that exists on the object return the string\n        // we'll resolve it later\n\n\n        if (obj[val]) {\n          return val;\n        } // if we get here, its a string that doesn't exist on the object\n        // which won't work, so we throw a helpful error\n\n\n        throw Error(\"The input selector at index \" + index + \" for '\" + selectorName + \"' is missing from the object passed to resolveSelectors()\");\n      });\n    } else {\n      hasAtLeastOneResolved = true;\n    }\n  };\n\n  for (var selectorName in obj) loop(selectorName);\n\n  if (!hasAtLeastOneResolved) {\n    throw Error(\"You must pass at least one real selector. If they're all string references there's no\");\n  }\n\n  var depsAreResolved = function (deps) {\n    return deps.every(isResolved);\n  };\n\n  var resolve = function () {\n    var hasUnresolved = false;\n\n    for (var selectorName in obj) {\n      var fn = obj[selectorName];\n\n      if (!isResolved(selectorName)) {\n        hasUnresolved = true;\n\n        if (depsAreResolved(fn.deps)) {\n          // we could just use `obj[selectorName] = fn(obj, fn.deps)`, but that\n          // has a significant performance impact when trying to perform this\n          // on a large object (> 1000). More on this here:\n          // http://2ality.com/2014/01/object-assign.html\n          var selectorFn = fn(obj, fn.deps);\n          delete obj[selectorName];\n          obj[selectorName] = selectorFn;\n        }\n      }\n    }\n\n    return hasUnresolved;\n  };\n\n  var startTime;\n\n  while (resolve()) {\n    if (!startTime) {\n      startTime = Date.now();\n    }\n\n    var duration = Date.now() - startTime;\n\n    if (duration > 500) {\n      throw Error('Could not resolve selector dependencies.');\n    }\n  }\n\n  return obj;\n};\n\nvar debug = false;\n\ntry {\n  debug = !!window.localStorage.debug;\n} catch (e) {}\n\nvar HAS_DEBUG_FLAG = debug || false;\nvar HAS_WINDOW = typeof window !== 'undefined';\nvar IS_BROWSER = HAS_WINDOW || typeof self !== 'undefined';\nvar IS_PROD = process.env.NODE_ENV === 'production';\n\nvar fallback = function (func) {\n  return setTimeout(func, 0);\n};\n\nvar raf = IS_BROWSER && self.requestAnimationFrame ? self.requestAnimationFrame : fallback;\nvar ric = IS_BROWSER && self.requestIdleCallback ? self.requestIdleCallback : fallback; // can dump this once IE 11 support is no longer necessary\n\nvar isPassiveSupported = function () {\n  var passiveSupported = false;\n\n  try {\n    var options = Object.defineProperty({}, 'passive', {\n      get: function () {\n        passiveSupported = true;\n      }\n    });\n    window.addEventListener('test', options, options);\n    window.removeEventListener('test', options, options);\n  } catch (err) {\n    passiveSupported = false;\n  }\n\n  return passiveSupported;\n};\n\nvar PASSIVE_EVENTS_SUPPORTED = isPassiveSupported();\n\nvar startsWith = function (string, searchString) {\n  return string.substr(0, searchString.length) === searchString;\n};\n\nvar flattenExtractedToObject = function (extracted) {\n  var result = {};\n\n  for (var appName in extracted) {\n    Object.assign(result, extracted[appName]);\n  }\n\n  return result;\n};\n\nvar flattenExtractedToArray = function (extracted) {\n  var accum = [];\n\n  for (var appName in extracted) {\n    accum.push.apply(accum, extracted[appName]);\n  }\n\n  return accum;\n};\n\nvar addGlobalListener = function (eventName, handler, opts) {\n  if (opts === void 0) opts = {\n    passive: false\n  };\n\n  if (!IS_BROWSER) {\n    return function () {};\n  }\n\n  var args = opts.passive ? PASSIVE_EVENTS_SUPPORTED ? [eventName, handler, {\n    passive: true\n  }] : [eventName, debounce(handler, 200), false] : [eventName, handler];\n  self.addEventListener.apply(self, args);\n  return function () {\n    return self.removeEventListener.apply(self, args);\n  };\n};\n\nvar selectorNameToValueName = function (name) {\n  var start = name[0] === 's' ? 6 : 5;\n  return name[start].toLowerCase() + name.slice(start + 1);\n};\n\nvar debounce = function (fn, wait) {\n  var timeout;\n\n  var debounced = function () {\n    var ctx = this;\n    var args = arguments;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn.apply(ctx, args);\n    }, wait);\n  };\n\n  debounced.cancel = function () {\n    clearTimeout(timeout);\n  };\n\n  return debounced;\n};\n\nvar saveScrollPosition = function () {\n  history.replaceState({\n    height: window.innerHeight,\n    width: window.innerWidth,\n    y: window.scrollY,\n    x: window.scrollX\n  }, '');\n};\n\nvar restoreScrollPosition = function () {\n  var state = history.state;\n\n  if (state) {\n    // we'll force it to our known height since the DOM rendering may\n    // be async and the height may not be restored yet.\n    setTimeout(function () {\n      var newStyle = \"height: \" + state.height + \"px; width: \" + state.width + \"px;\";\n      document.body.setAttribute('style', newStyle);\n      window.scrollTo(state.x, state.y);\n      ric(function () {\n        return document.body.removeAttribute('style');\n      });\n    });\n  }\n};\n\nvar initScrollPosition = function () {\n  if (!HAS_WINDOW) {\n    return;\n  } // turn off browser scroll restoration if available\n\n\n  if (history.scrollRestoration) {\n    history.scrollRestoration = 'manual';\n  }\n\n  var removePopstateListener = addGlobalListener('popstate', restoreScrollPosition);\n  var removeScrollListener = addGlobalListener('scroll', debounce(saveScrollPosition, 300), {\n    passive: true\n  });\n  restoreScrollPosition();\n  return function () {\n    removePopstateListener();\n    removeScrollListener();\n  };\n};\n\nvar normalizeBundle = function (bundle) {\n  var name = bundle.name;\n\n  if (!name) {\n    throw TypeError('bundles must have a \"name\" property');\n  }\n\n  var result = {\n    name: name,\n    reducer: bundle.reducer || bundle.getReducer && bundle.getReducer() || null,\n    init: bundle.init || null,\n    extraArgCreators: bundle.getExtraArgs || null,\n    middlewareCreators: bundle.getMiddleware,\n    actionCreators: null,\n    selectors: null,\n    reactorNames: null,\n    rawBundle: bundle\n  };\n  Object.keys(bundle).forEach(function (key) {\n    if (startsWith(key, 'do')) {\n      (result.actionCreators || (result.actionCreators = {}))[key] = bundle[key];\n      return;\n    }\n\n    var isSelector = startsWith(key, 'select');\n    var isReactor = startsWith(key, 'react');\n\n    if (isSelector || isReactor) {\n      (result.selectors || (result.selectors = {}))[key] = bundle[key];\n\n      if (isReactor) {\n        (result.reactorNames || (result.reactorNames = [])).push(key);\n      }\n    }\n  });\n  return result;\n};\n\nvar createChunk = function (rawBundles) {\n  var normalizedBundles = rawBundles.map(normalizeBundle);\n  var result = {\n    bundleNames: [],\n    reducers: {},\n    selectors: {},\n    actionCreators: {},\n    rawBundles: [],\n    processedBundles: [],\n    initMethods: [],\n    destroyMethods: [],\n    middlewareCreators: [],\n    extraArgCreators: [],\n    reactorNames: []\n  };\n  normalizedBundles.forEach(function (bundle) {\n    var obj, ref;\n    result.bundleNames.push(bundle.name);\n    Object.assign(result.selectors, bundle.selectors);\n    Object.assign(result.actionCreators, bundle.actionCreators);\n\n    if (bundle.reducer) {\n      Object.assign(result.reducers, (obj = {}, obj[bundle.name] = bundle.reducer, obj));\n    }\n\n    if (bundle.init) {\n      result.initMethods.push(bundle.init);\n    }\n\n    if (bundle.middlewareCreators) {\n      result.middlewareCreators.push(bundle.middlewareCreators);\n    }\n\n    if (bundle.extraArgCreators) {\n      result.extraArgCreators.push(bundle.extraArgCreators);\n    }\n\n    if (bundle.reactorNames) {\n      (ref = result.reactorNames).push.apply(ref, bundle.reactorNames);\n    }\n\n    result.processedBundles.push(bundle);\n    result.rawBundles.push(bundle.rawBundle);\n  });\n  return result;\n};\n\nvar addBindingMethods = function (store) {\n  store.subscriptions = {\n    watchedValues: {}\n  };\n  var subscriptions = store.subscriptions.set = new Set();\n  var watchedSelectors = store.subscriptions.watchedSelectors = {};\n\n  var watch = function (selectorName) {\n    watchedSelectors[selectorName] = (watchedSelectors[selectorName] || 0) + 1;\n  };\n\n  var unwatch = function (selectorName) {\n    var count = watchedSelectors[selectorName] - 1;\n\n    if (count === 0) {\n      delete watchedSelectors[selectorName];\n    } else {\n      watchedSelectors[selectorName] = count;\n    }\n  }; // add single store subscription for tracking watched changes\n\n\n  store.subscribe(function () {\n    var newValues = watchedSelectors.all ? store.selectAll() : store.select(Object.keys(watchedSelectors));\n    var ref = store.subscriptions;\n    var watchedValues = ref.watchedValues; // the only diffing in the app happens here\n\n    var changed = {};\n\n    for (var key in newValues) {\n      var val = newValues[key];\n\n      if (val !== watchedValues[key]) {\n        changed[key] = val;\n      }\n    }\n\n    store.subscriptions.watchedValues = newValues; // look through subscriptions to trigger\n\n    subscriptions.forEach(function (subscription) {\n      var relevantChanges = {};\n      var hasChanged = false;\n\n      if (subscription.names === 'all') {\n        Object.assign(relevantChanges, changed);\n        hasChanged = !!Object.keys(relevantChanges).length;\n      } else {\n        subscription.names.forEach(function (name) {\n          if (changed.hasOwnProperty(name)) {\n            relevantChanges[name] = changed[name];\n            hasChanged = true;\n          }\n        });\n      }\n\n      if (hasChanged) {\n        subscription.fn(relevantChanges);\n      }\n    });\n  }); // this exists separately in order to support\n  // subscribing to all changes even after lazy-loading\n  // additional bundles\n\n  store.subscribeToAllChanges = function (callback) {\n    return store.subscribeToSelectors('all', callback);\n  }; // given an array of selector names, it will call the\n  // callback any time those have changed with an object\n  // containing only changed values\n\n\n  store.subscribeToSelectors = function (keys, callback) {\n    var isAll = keys === 'all'; // re-use loop for double duty\n    // extract names, but also ensure\n    // selector actually exists on store\n\n    var subscription = {\n      fn: callback,\n      names: isAll ? 'all' : keys.map(selectorNameToValueName)\n    };\n    subscriptions.add(subscription);\n    isAll ? watch('all') : keys.forEach(watch); // make sure starting values are in watched so we can\n    // track changes\n\n    Object.assign(store.subscriptions.watchedValues, isAll ? store.selectAll() : store.select(keys)); // return function that can be used to unsubscribe\n\n    return function () {\n      subscriptions.delete(subscription);\n      isAll ? unwatch('all') : keys.forEach(unwatch);\n    };\n  };\n};\n\nvar bindSelectorsToStore = function (store, selectors) {\n  var loop = function (key) {\n    var selector = selectors[key];\n\n    if (!store[key]) {\n      store[key] = function () {\n        return selector(store.getState());\n      };\n    }\n  };\n\n  for (var key in selectors) loop(key);\n};\n\nvar decorateStore = function (store, processed) {\n  if (!store.meta) {\n    store.meta = {\n      chunks: [],\n      unboundSelectors: {},\n      unboundActionCreators: {},\n      reactorNames: [],\n      destroyMethods: []\n    };\n  }\n\n  var meta = store.meta; // attach for reference\n\n  meta.chunks.push(processed); // grab existing unbound (but resolved) selectors, combine with new ones\n\n  var combinedSelectors = Object.assign(meta.unboundSelectors, processed.selectors); // run resolver\n\n  resolveSelectors(combinedSelectors); // update collection of resolved selectors\n\n  meta.unboundSelectors = combinedSelectors; // make sure all selectors are bound (won't overwrite if already bound)\n\n  bindSelectorsToStore(store, combinedSelectors); // build our list of reactor names\n\n  meta.reactorNames = meta.reactorNames.concat(processed.reactorNames); // extend global collections with new stuff\n\n  Object.assign(meta.unboundActionCreators, processed.actionCreators); // bind and attach only the next action creators to the store\n\n  Object.assign(store, bindActionCreators(processed.actionCreators, store.dispatch)); // build list of destroy methods\n\n  meta.destroyMethods = meta.destroyMethods.concat(processed.destroyMethods); // run any new init methods. Use their return function as potential\n  // destroy methods.\n\n  processed.initMethods.forEach(function (init) {\n    var destroy = init(store);\n\n    if (typeof destroy === 'function') {\n      meta.destroyMethods = meta.destroyMethods.concat(destroy);\n    }\n  });\n};\n\nvar enableBatchDispatch = function (reducer) {\n  return function (state, action) {\n    if (action.type === 'BATCH_ACTIONS') {\n      return action.actions.reduce(reducer, state);\n    }\n\n    return reducer(state, action);\n  };\n};\n\nvar enableReplaceState = function (reducer) {\n  return function (state, action) {\n    if (action.type === 'REPLACE_STATE') {\n      return reducer(action.payload, action);\n    }\n\n    return reducer(state, action);\n  };\n};\n\nvar enhanceReducer = compose(enableBatchDispatch, enableReplaceState);\n\nvar devTools = function () {\n  return HAS_WINDOW && window.__REDUX_DEVTOOLS_EXTENSION__ && (HAS_DEBUG_FLAG || !IS_PROD) ? window.__REDUX_DEVTOOLS_EXTENSION__() : function (a) {\n    return a;\n  };\n};\n\nvar composeBundles = function () {\n  var bundles = [],\n      len = arguments.length;\n\n  while (len--) bundles[len] = arguments[len]; // build out object of extracted bundle info\n\n\n  var firstChunk = createChunk(bundles);\n  return function (data) {\n    // actually init our store\n    var store = createStore(enhanceReducer(combineReducers(firstChunk.reducers)), data, compose(customApplyMiddleware.apply(void 0, [namedActionMiddleware, thunkMiddleware(firstChunk.extraArgCreators)].concat(firstChunk.middlewareCreators.map(function (fn) {\n      return fn(firstChunk);\n    }))), devTools())); // get values from an array of selector names\n\n    store.select = function (selectorNames) {\n      return selectorNames.reduce(function (obj, name) {\n        if (!store[name]) {\n          throw Error(\"SelectorNotFound \" + name);\n        }\n\n        obj[selectorNameToValueName(name)] = store[name]();\n        return obj;\n      }, {});\n    }; // get all values from all available selectors (even if added later)\n\n\n    store.selectAll = function () {\n      return store.select(Object.keys(store.meta.unboundSelectors));\n    }; // add support for dispatching an action by name\n\n\n    store.action = function (name, args) {\n      return store[name].apply(store, args);\n    }; // adds support for subscribing to changes from an array of selector strings\n\n\n    addBindingMethods(store); // add all the gathered bundle data into the store\n\n    decorateStore(store, firstChunk); // add support for destroying the store (to remove event listeners, etc)\n\n    store.destroy = function () {\n      return store.meta.destroyMethods.forEach(function (destroy) {\n        return destroy(store);\n      });\n    }; // defines method for integrating other bundles later\n\n\n    store.integrateBundles = function () {\n      var bundlesToIntegrate = [],\n          len = arguments.length;\n\n      while (len--) bundlesToIntegrate[len] = arguments[len];\n\n      decorateStore(store, createChunk(bundlesToIntegrate));\n      var allReducers = store.meta.chunks.reduce(function (accum, chunk) {\n        return Object.assign(accum, chunk.reducers);\n      }, {});\n      store.replaceReducer(enhanceReducer(combineReducers(allReducers)));\n      store.buildPersistActionMap && store.buildPersistActionMap();\n    };\n\n    return store;\n  };\n}; // regexes borrowed from backbone\n\n\nvar optionalParam = /\\((.*?)\\)/g;\nvar namedParam = /(\\(\\?)?:\\w+/g;\nvar escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\nvar splatParam = /\\*/g; // Parses a URL pattern such as `/users/:id`\n// and builds and returns a regex that can be used to\n// match said pattern. Credit for these\n// regexes belongs to Jeremy Ashkenas and the\n// other maintainers of Backbone.js\n//\n// It has been modified for extraction of\n// named paramaters from the URL\n\nvar parsePattern = function (pattern) {\n  var names = [];\n  pattern = pattern.replace(escapeRegExp, '\\\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {\n    names.push(match.slice(1));\n    return optional ? match : '([^/?]+)';\n  }).replace(splatParam, function (match, optional) {\n    names.push('path');\n    return '([^?]*?)';\n  });\n  return {\n    regExp: new RegExp('^' + pattern + '(?:\\\\?([\\\\s\\\\S]*))?$'),\n    namedParams: names\n  };\n};\n\nvar featherRouteMatcher = function (routes, fallback) {\n  var keys = Object.keys(routes); // loop through each route we're\n  // and build the shell of our\n  // route cache.\n\n  for (var item in routes) {\n    routes[item] = {\n      value: routes[item]\n    };\n  } // main result is a function that can be called\n  // with the url\n\n\n  return function (url) {\n    var params;\n    var route; // start looking for matches\n\n    var matchFound = keys.some(function (key) {\n      var parsed; // fetch the route pattern from the cache\n      // there will always be one\n\n      route = routes[key]; // if the route doesn't already have\n      // a regex we never generated one\n      // so we do that here lazily.\n      // Parse the pattern to generate the\n      // regex once, and store the result\n      // for next time.\n\n      if (!route.regExp) {\n        parsed = parsePattern(key);\n        route.regExp = parsed.regExp;\n        route.namedParams = parsed.namedParams;\n        route.pattern = key;\n      } // run our cached regex\n\n\n      var result = route.regExp.exec(url); // if null there was no match\n      // returning falsy here continues\n      // the `Array.prototype.some` loop\n\n      if (!result) {\n        return;\n      } // remove other cruft from result\n\n\n      result = result.slice(1, -1); // reduce our match to an object of named paramaters\n      // we've extracted from the url\n\n      params = result.reduce(function (obj, val, index) {\n        if (val) {\n          obj[route.namedParams[index]] = val;\n        }\n\n        return obj;\n      }, {}); // stops the loop\n\n      return true;\n    }); // no routes matched\n\n    if (!matchFound) {\n      if (fallback) {\n        return {\n          page: fallback,\n          url: url,\n          params: null\n        };\n      }\n\n      return null;\n    }\n\n    return {\n      page: route.value,\n      params: params,\n      url: url,\n      pattern: route.pattern\n    };\n  };\n};\n\nvar defaults = {\n  routeInfoSelector: 'selectPathname'\n};\n\nvar createRoutingBundle = function (routes, spec) {\n  var opts = Object.assign({}, defaults, spec);\n  var routeInfoSelector = opts.routeInfoSelector;\n  var routeMatcher = featherRouteMatcher(routes);\n  return {\n    name: 'routes',\n    selectRoutes: function () {\n      return routes;\n    },\n    selectRouteMatcher: function () {\n      return routeMatcher;\n    },\n    selectRouteInfo: createSelector$1(routeInfoSelector, routeMatcher),\n    selectRouteParams: createSelector$1('selectRouteInfo', function (ref) {\n      var params = ref.params;\n      return params;\n    }),\n    selectRoute: createSelector$1('selectRouteInfo', function (ref) {\n      var page = ref.page;\n      return page;\n    })\n  };\n};\n\nvar defaultOpts = {\n  actionBaseType: null,\n  staleAfter: 900000,\n  // fifteen minutes\n  retryAfter: 60000,\n  // one minute,\n  expireAfter: Infinity,\n  checkIfOnline: true,\n  persist: true\n};\n\nvar createAsyncResourceBundle = function (spec) {\n  var opts = Object.assign({}, defaultOpts, spec);\n\n  if (process.env.NODE_ENV !== 'production') {\n    var requiredOptions = ['name', 'getPromise'];\n    requiredOptions.forEach(function (requiredOption) {\n      if (!opts[requiredOption]) {\n        throw Error(\"You must supply a \" + requiredOption + \" option when creating a resource bundle.\");\n      }\n    });\n  }\n\n  var name = opts.name;\n  var staleAfter = opts.staleAfter;\n  var retryAfter = opts.retryAfter;\n  var actionBaseType = opts.actionBaseType;\n  var checkIfOnline = opts.checkIfOnline;\n  var expireAfter = opts.expireAfter;\n  var uCaseName = name.charAt(0).toUpperCase() + name.slice(1);\n  var baseType = actionBaseType || name.toUpperCase(); // build selectors\n\n  var inputSelectorName = \"select\" + uCaseName + \"Raw\";\n  var dataSelectorName = \"select\" + uCaseName;\n  var lastSuccessSelectorName = \"select\" + uCaseName + \"LastSuccess\";\n  var isExpiredSelectorName = \"select\" + uCaseName + \"IsExpired\";\n  var lastErrorSelectorName = \"select\" + uCaseName + \"LastError\";\n  var isStaleSelectorName = \"select\" + uCaseName + \"IsStale\";\n  var isWaitingToRetrySelectorName = \"select\" + uCaseName + \"IsWaitingToRetry\";\n  var isLoadingSelectorName = \"select\" + uCaseName + \"IsLoading\";\n  var failedPermanentlySelectorName = \"select\" + uCaseName + \"FailedPermanently\";\n  var shouldUpdateSelectorName = \"select\" + uCaseName + \"ShouldUpdate\"; // action types\n\n  var actions = {\n    STARTED: baseType + \"_FETCH_STARTED\",\n    FINISHED: baseType + \"_FETCH_FINISHED\",\n    FAILED: baseType + \"_FETCH_FAILED\",\n    CLEARED: baseType + \"_CLEARED\",\n    OUTDATED: baseType + \"_OUTDATED\",\n    EXPIRED: baseType + \"_EXPIRED\" // action creators\n\n  };\n\n  var doFetchError = function (error) {\n    return {\n      type: actions.FAILED,\n      error: error\n    };\n  };\n\n  var doMarkAsOutdated = function () {\n    return {\n      type: actions.OUTDATED\n    };\n  };\n\n  var doClear = function () {\n    return {\n      type: actions.CLEARED\n    };\n  };\n\n  var doExpire = function () {\n    return {\n      type: actions.EXPIRED\n    };\n  };\n\n  var doFetchSuccess = function (payload) {\n    return {\n      type: actions.FINISHED,\n      payload: payload\n    };\n  };\n\n  var doFetchData = function () {\n    return function (args) {\n      var dispatch = args.dispatch;\n      dispatch({\n        type: actions.STARTED\n      });\n      return opts.getPromise(args).then(function (payload) {\n        dispatch(doFetchSuccess(payload));\n      }, function (error) {\n        dispatch(doFetchError(error));\n      });\n    };\n  };\n\n  var initialState = {\n    data: null,\n    errorTimes: [],\n    errorType: null,\n    lastSuccess: null,\n    isOutdated: false,\n    isLoading: false,\n    isExpired: false,\n    failedPermanently: false\n  };\n  var result = {\n    name: name,\n    reducer: function (state, ref) {\n      if (state === void 0) state = initialState;\n      var type = ref.type;\n      var payload = ref.payload;\n      var error = ref.error;\n      var merge = ref.merge;\n\n      if (type === actions.STARTED) {\n        return Object.assign({}, state, {\n          isLoading: true\n        });\n      }\n\n      if (type === actions.FINISHED) {\n        var updatedData;\n\n        if (merge) {\n          updatedData = Object.assign({}, state.data, payload);\n        } else {\n          updatedData = payload;\n        }\n\n        return Object.assign({}, state, {\n          isLoading: false,\n          data: updatedData,\n          lastSuccess: Date.now(),\n          errorTimes: [],\n          errorType: null,\n          failedPermanently: false,\n          isOutdated: false,\n          isExpired: false\n        });\n      }\n\n      if (type === actions.FAILED) {\n        var errorMessage = error && error.message || error;\n        return Object.assign({}, state, {\n          isLoading: false,\n          errorTimes: state.errorTimes.concat([Date.now()]),\n          errorType: errorMessage,\n          failedPermanently: !!(error && error.permanent)\n        });\n      }\n\n      if (type === actions.CLEARED) {\n        return initialState;\n      }\n\n      if (type === actions.EXPIRED) {\n        return Object.assign({}, initialState, {\n          isExpired: true,\n          errorTimes: state.errorTimes,\n          errorType: state.errorType\n        });\n      }\n\n      if (type === actions.OUTDATED) {\n        return Object.assign({}, state, {\n          isOutdated: true\n        });\n      }\n\n      return state;\n    }\n  };\n\n  result[inputSelectorName] = function (state) {\n    return state[name];\n  };\n\n  result[dataSelectorName] = createSelector$1(inputSelectorName, function (root) {\n    return root.data;\n  });\n  result[isStaleSelectorName] = createSelector$1(inputSelectorName, lastSuccessSelectorName, 'selectAppTime', function (state, time, appTime) {\n    if (state.isOutdated) {\n      return true;\n    }\n\n    if (!time) {\n      return false;\n    }\n\n    return appTime - time > staleAfter;\n  });\n  result[isExpiredSelectorName] = createSelector$1(inputSelectorName, function (root) {\n    return root.isExpired;\n  });\n  result[lastErrorSelectorName] = createSelector$1(inputSelectorName, function (resource) {\n    return resource.errorTimes.slice(-1)[0] || null;\n  });\n  result[lastSuccessSelectorName] = createSelector$1(inputSelectorName, function (root) {\n    return root.lastSuccess;\n  });\n  result[isWaitingToRetrySelectorName] = createSelector$1(lastErrorSelectorName, 'selectAppTime', function (time, appTime) {\n    if (!time) {\n      return false;\n    }\n\n    return appTime - time < retryAfter;\n  });\n  result[isLoadingSelectorName] = createSelector$1(inputSelectorName, function (resourceState) {\n    return resourceState.isLoading;\n  });\n  result[failedPermanentlySelectorName] = createSelector$1(inputSelectorName, function (resourceState) {\n    return resourceState.failedPermanently;\n  });\n  result[shouldUpdateSelectorName] = createSelector$1(isLoadingSelectorName, failedPermanentlySelectorName, isWaitingToRetrySelectorName, dataSelectorName, isStaleSelectorName, 'selectIsOnline', function (isLoading, failedPermanently, isWaitingToRetry, data, isStale, isOnline) {\n    if (checkIfOnline && !isOnline || isLoading || failedPermanently || isWaitingToRetry) {\n      return false;\n    }\n\n    if (data === null) {\n      return true;\n    }\n\n    return isStale;\n  });\n  result[\"doFetch\" + uCaseName] = doFetchData;\n  result[\"doMark\" + uCaseName + \"AsOutdated\"] = doMarkAsOutdated;\n  result[\"doClear\" + uCaseName] = doClear;\n  result[\"doExpire\" + uCaseName] = doExpire;\n\n  if (opts.persist) {\n    result.persistActions = [actions.FINISHED, actions.EXPIRED, actions.OUTDATED, actions.CLEARED];\n  }\n\n  if (expireAfter !== Infinity) {\n    result[\"reactExpire\" + uCaseName] = createSelector$1(lastSuccessSelectorName, 'selectAppTime', function (time, appTime) {\n      if (!time) {\n        return false;\n      }\n\n      if (appTime - time > expireAfter) {\n        return doExpire();\n      }\n    });\n  }\n\n  return result;\n};\n\nvar caching = function (ref) {\n  var cacheFn = ref.cacheFn;\n  var logger = ref.logger;\n  var enabled = ref.enabled;\n  if (enabled === void 0) enabled = IS_BROWSER;\n  return {\n    name: 'localCache',\n    init: function (store) {\n      store.buildPersistActionMap = function () {\n        store.meta.persistActionMap = store.meta.chunks.reduce(function (actionMap, chunk) {\n          chunk.rawBundles.forEach(function (bundle) {\n            if (bundle.persistActions) {\n              bundle.persistActions.forEach(function (type) {\n                actionMap[type] || (actionMap[type] = []);\n                actionMap[type].push(bundle.name);\n              });\n            }\n          });\n          return actionMap;\n        }, {});\n      };\n\n      store.buildPersistActionMap();\n    },\n    getMiddleware: function () {\n      return function (store) {\n        return function (next) {\n          return function (action) {\n            var getState = store.getState;\n            var meta = store.meta;\n            var persistActionMap = meta.persistActionMap;\n            var reducersToPersist = persistActionMap[action.type];\n            var res = next(action);\n            var state = getState();\n\n            if (enabled && reducersToPersist) {\n              ric(function () {\n                Promise.all(reducersToPersist.map(function (key) {\n                  return cacheFn(key, state[key]);\n                })).then(function () {\n                  if (logger) {\n                    logger(\"cached \" + reducersToPersist.join(', ') + \" due to \" + action.type);\n                  }\n                });\n              }, {\n                timeout: 500\n              });\n            }\n\n            return res;\n          };\n        };\n      };\n    }\n  };\n};\n\nvar getError = function (message, permanent) {\n  if (permanent === void 0) permanent = false;\n  var err = new Error(message);\n\n  if (permanent) {\n    err.permanent = true;\n  }\n\n  return err;\n};\n\nvar geoErrorArray = ['An unknown geolocation error occured', 'Geolocation permission denied', 'Geolocation unavailable', 'Geolocation request timed out'];\nvar defaultOpts$1 = {\n  timeout: 60000,\n  enableHighAccuracy: false,\n  persist: true,\n  staleAfter: 900000,\n  // fifteen minutes\n  retryAfter: 60000 // one minute,\n\n};\n\nvar geolocation = function (spec) {\n  var opts = Object.assign({}, defaultOpts$1, spec);\n  return createAsyncResourceBundle({\n    name: 'geolocation',\n    actionBaseType: 'GEOLOCATION_REQUEST',\n    getPromise: function () {\n      return new Promise(function (resolve, reject) {\n        if (!IS_BROWSER || !navigator.geolocation) {\n          reject(getError('Geolocation not supported', true));\n        }\n\n        var success = function (position) {\n          var res = {};\n          var coords = position.coords;\n\n          for (var key in coords) {\n            res[key] = coords[key];\n          }\n\n          res.timestamp = position.timestamp;\n          resolve(res);\n        };\n\n        var fail = function (ref) {\n          var code = ref.code;\n          reject(getError(geoErrorArray[code], code === 1));\n        };\n\n        var geoOpts = {\n          timeout: opts.timeout,\n          enableHighAccuracy: opts.enableHighAccuracy\n        };\n        navigator.geolocation.getCurrentPosition(success, fail, geoOpts);\n      });\n    },\n    persist: opts.persist,\n    staleAfter: opts.staleAfter,\n    retryAfter: opts.retryAfter\n  });\n};\n\nvar defaults$1 = {\n  idleTimeout: 30000,\n  idleAction: 'APP_IDLE',\n  doneCallback: null,\n  stopWhenTabInactive: true,\n  cancelIdleWhenDone: true,\n  reactorPermissionCheck: null\n};\nvar ricOptions = {\n  timeout: 500\n};\n\nvar getIdleDispatcher = function (stopWhenInactive, timeout, fn) {\n  return debounce(function () {\n    // the requestAnimationFrame ensures it doesn't run when tab isn't active\n    stopWhenInactive ? raf(function () {\n      return ric(fn, ricOptions);\n    }) : ric(fn, ricOptions);\n  }, timeout);\n};\n\nvar reactors = function (spec) {\n  return {\n    name: 'reactors',\n    init: function (store) {\n      var ref = Object.assign({}, defaults$1, spec);\n      var idleAction = ref.idleAction;\n      var idleTimeout = ref.idleTimeout;\n      var cancelIdleWhenDone = ref.cancelIdleWhenDone;\n      var doneCallback = ref.doneCallback;\n      var stopWhenTabInactive = ref.stopWhenTabInactive;\n      var reactorPermissionCheck = ref.reactorPermissionCheck;\n      var idleDispatcher;\n\n      if (idleTimeout) {\n        idleDispatcher = getIdleDispatcher(stopWhenTabInactive, idleTimeout, function () {\n          return store.dispatch({\n            type: idleAction\n          });\n        });\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        store.meta.reactorNames.forEach(function (name) {\n          if (!store[name]) {\n            throw Error(\"Reactor '\" + name + \"' not found on the store. Make sure you're defining as selector by that name.\");\n          }\n        });\n      }\n\n      var cancelIfDone = function () {\n        if (!IS_BROWSER && !store.nextReaction && (!store.selectAsyncActive || !store.selectAsyncActive())) {\n          idleDispatcher && idleDispatcher.cancel();\n          doneCallback && doneCallback();\n        }\n      };\n\n      var dispatchNext = function () {\n        // one at a time\n        if (store.nextReaction) {\n          return;\n        } // look for the next one\n\n\n        store.meta.reactorNames.some(function (name) {\n          var result = store[name]();\n\n          if (result) {\n            // enable passing a fn to check whether a given reactor should be allowed\n            if (reactorPermissionCheck && !reactorPermissionCheck(name, result)) {\n              return;\n            }\n\n            store.activeReactor = name;\n            store.nextReaction = result;\n            return result;\n          }\n        });\n\n        if (store.nextReaction) {\n          // let browser chill\n          ric(function () {\n            var nextReaction = store.nextReaction;\n            store.activeReactor = null;\n            store.nextReaction = null;\n            store.dispatch(nextReaction);\n          }, ricOptions);\n        }\n      };\n\n      var callback = function () {\n        dispatchNext();\n\n        if (idleDispatcher) {\n          idleDispatcher();\n          cancelIdleWhenDone && cancelIfDone();\n        }\n      };\n\n      var unsubscribe = store.subscribe(callback);\n      callback();\n      return function () {\n        idleDispatcher && idleDispatcher.cancel();\n        unsubscribe();\n      };\n    }\n  };\n};\n\nvar has = Object.prototype.hasOwnProperty,\n    undef;\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\n\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\n\n\nfunction querystring(query) {\n  var parser = /([^=?&]+)=?([^&]*)/g,\n      result = {},\n      part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1]),\n        value = decode(part[2]); //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\n\n\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n  var pairs = [],\n      value,\n      key; //\n  // Optionally prefix with a '?' if needed\n  //\n\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key]; //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encodeURIComponent(key);\n      value = encodeURIComponent(value); //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n\n      if (key === null || value === null) continue;\n      pairs.push(key + '=' + value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n} //\n// Expose the module.\n//\n\n\nvar stringify = querystringify;\nvar parse = querystring;\nvar querystringify_1 = {\n  stringify: stringify,\n  parse: parse\n};\n\nvar isString = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object String]';\n};\n\nvar isDefined = function (thing) {\n  return typeof thing !== 'undefined';\n};\n\nvar ensureString = function (input) {\n  return isString(input) ? input : querystringify_1.stringify(input);\n};\n\nvar IPRE = /^[0-9.]+$/;\n\nvar parseSubdomains = function (hostname, getBareHost) {\n  if (IPRE.test(hostname)) {\n    return [];\n  }\n\n  var parts = hostname.split('.');\n\n  if (getBareHost) {\n    return parts.slice(-2).join('.');\n  }\n\n  return hostname.split('.').slice(0, -2);\n};\n\nvar removeLeading = function (char, string) {\n  return string.charAt(0) === char ? string.slice(1) : string;\n};\n\nvar ensureLeading = function (char, string) {\n  if (string === char || string === '') {\n    return '';\n  }\n\n  return string.charAt(0) !== char ? char + string : string;\n};\n\nvar loc = function () {\n  if (!HAS_WINDOW) {\n    return {};\n  }\n\n  return window.location;\n}();\n\nvar defaults$2 = {\n  name: 'url',\n  inert: !HAS_WINDOW,\n  actionType: 'URL_UPDATED',\n  handleScrollRestoration: true\n};\n\nvar makeSerializable = function (url) {\n  var result = {};\n\n  for (var key in url) {\n    var val = url[key];\n\n    if (isString(val)) {\n      result[key] = val;\n    }\n  }\n\n  return result;\n};\n\nvar url = function (opts) {\n  var config = Object.assign({}, defaults$2, opts);\n  var actionType = config.actionType;\n\n  var selectUrlRaw = function (state) {\n    return state[config.name];\n  };\n\n  var selectUrlObject = createSelector$1(selectUrlRaw, function (urlState) {\n    return makeSerializable(new URL(urlState.url));\n  });\n  var selectQueryObject = createSelector$1(selectUrlObject, function (urlObj) {\n    return querystringify_1.parse(urlObj.search);\n  });\n  var selectQueryString = createSelector$1(selectQueryObject, function (queryObj) {\n    return querystringify_1.stringify(queryObj);\n  });\n  var selectPathname = createSelector$1(selectUrlObject, function (urlObj) {\n    return urlObj.pathname;\n  });\n  var selectHash = createSelector$1(selectUrlObject, function (urlObj) {\n    return removeLeading('#', urlObj.hash);\n  });\n  var selectHashObject = createSelector$1(selectHash, function (hash) {\n    return querystringify_1.parse(hash);\n  });\n  var selectHostname = createSelector$1(selectUrlObject, function (urlObj) {\n    return urlObj.hostname;\n  });\n  var selectSubdomains = createSelector$1(selectHostname, function (hostname) {\n    return parseSubdomains(hostname);\n  });\n\n  var doUpdateUrl = function (newState, opts) {\n    if (opts === void 0) opts = {\n      replace: false,\n      maintainScrollPosition: false\n    };\n    return function (ref) {\n      var dispatch = ref.dispatch;\n      var getState = ref.getState;\n      var state = newState;\n\n      if (typeof newState === 'string') {\n        var parsed = new URL(newState.charAt(0) === '/' ? 'http://example.com' + newState : newState);\n        state = {\n          pathname: parsed.pathname,\n          query: parsed.search || '',\n          hash: parsed.hash || ''\n        };\n      }\n\n      var url = new URL(selectUrlRaw(getState()).url);\n\n      if (isDefined(state.pathname)) {\n        url.pathname = state.pathname;\n      }\n\n      if (isDefined(state.hash)) {\n        url.hash = ensureString(state.hash);\n      }\n\n      if (isDefined(state.query)) {\n        url.search = ensureString(state.query);\n      }\n\n      dispatch({\n        type: actionType,\n        payload: {\n          url: url.href,\n          replace: opts.replace,\n          maintainScrollPosition: opts.maintainScrollPosition\n        }\n      });\n    };\n  };\n\n  var doReplaceUrl = function (url) {\n    return doUpdateUrl(url, {\n      replace: true\n    });\n  };\n\n  var doUpdateQuery = function (query, opts) {\n    if (opts === void 0) opts = {\n      replace: true\n    };\n    return doUpdateUrl({\n      query: ensureString(query)\n    }, opts);\n  };\n\n  var doUpdateHash = function (hash, opts) {\n    if (opts === void 0) opts = {\n      replace: false\n    };\n    return doUpdateUrl({\n      hash: ensureLeading('#', ensureString(hash))\n    }, opts);\n  };\n\n  return {\n    name: config.name,\n    init: function (store) {\n      if (config.inert) {\n        return;\n      }\n\n      var removeScrollPosition = config.handleScrollRestoration ? initScrollPosition() : null;\n      var removePopstateListener = addGlobalListener('popstate', function () {\n        store.doUpdateUrl({\n          pathname: loc.pathname,\n          hash: loc.hash,\n          query: loc.search\n        });\n      });\n      var lastState = store.selectUrlRaw();\n      var unsubscribe = store.subscribe(function () {\n        var newState = store.selectUrlRaw();\n        var newUrl = newState.url;\n\n        if (lastState !== newState && newUrl !== loc.href) {\n          try {\n            window.history[newState.replace ? 'replaceState' : 'pushState']({}, null, newState.url);\n\n            if (config.handleScrollRestoration) {\n              saveScrollPosition();\n            }\n\n            if (!newState.maintainScrollPosition) {\n              window.scrollTo(0, 0);\n            }\n          } catch (e) {\n            console.error(e);\n          }\n        }\n\n        lastState = newState;\n      });\n      return function () {\n        if (removeScrollPosition) {\n          removeScrollPosition();\n        }\n\n        removePopstateListener();\n        unsubscribe();\n      };\n    },\n    getReducer: function () {\n      var initialState = {\n        url: !config.inert && HAS_WINDOW ? loc.href : '/',\n        replace: false,\n        maintainScrollPosition: false\n      };\n      return function (state, ref) {\n        if (state === void 0) state = initialState;\n        var type = ref.type;\n        var payload = ref.payload;\n\n        if (typeof state === 'string') {\n          return {\n            url: state,\n            replace: false,\n            maintainScrollPosition: false\n          };\n        }\n\n        if (type === actionType) {\n          return Object.assign({\n            url: payload.url || payload,\n            replace: !!payload.replace,\n            maintainScrollPosition: !!payload.maintainScrollPosition\n          });\n        }\n\n        return state;\n      };\n    },\n    doUpdateUrl: doUpdateUrl,\n    doReplaceUrl: doReplaceUrl,\n    doUpdateQuery: doUpdateQuery,\n    doUpdateHash: doUpdateHash,\n    selectUrlRaw: selectUrlRaw,\n    selectUrlObject: selectUrlObject,\n    selectQueryObject: selectQueryObject,\n    selectQueryString: selectQueryString,\n    selectPathname: selectPathname,\n    selectHash: selectHash,\n    selectHashObject: selectHashObject,\n    selectHostname: selectHostname,\n    selectSubdomains: selectSubdomains\n  };\n};\n\nvar version = \"26.1.0\";\n\nvar createDebug = function (spec) {\n  var ENABLE = 'DEBUG_ENABLED';\n  var DISABLE = 'DEBUG_DISABLED';\n  var colorBlue = 'color: #1676D2;';\n  var colorGreen = 'color: #4CAF50;';\n  var colorOrange = 'color: #F57C00;'; // cleans up color vars when used in node\n\n  var log = function (toLog, ref) {\n    var method = ref.method;\n    if (method === void 0) method = 'log';\n    var label = ref.label;\n    var color = ref.color;\n    return console[method].apply(console, IS_BROWSER ? [\"%c\" + label, color, toLog] : [label, toLog]);\n  };\n\n  var defaultOpts = {\n    logSelectors: true,\n    logState: true,\n    enabled: HAS_DEBUG_FLAG,\n    actionFilter: null\n  };\n  var opts = Object.assign({}, defaultOpts, spec);\n  return {\n    name: 'debug',\n    reducer: function (state, ref) {\n      if (state === void 0) state = opts.enabled;\n      var type = ref.type;\n\n      if (type === ENABLE) {\n        return true;\n      }\n\n      if (type === DISABLE) {\n        return false;\n      }\n\n      return state;\n    },\n    doEnableDebug: function () {\n      return function (ref) {\n        var dispatch = ref.dispatch;\n\n        if (IS_BROWSER) {\n          try {\n            localStorage.debug = true;\n          } catch (e) {}\n        }\n\n        dispatch({\n          type: ENABLE\n        });\n      };\n    },\n    doDisableDebug: function () {\n      return function (ref) {\n        var dispatch = ref.dispatch;\n\n        if (IS_BROWSER) {\n          try {\n            delete localStorage.debug;\n          } catch (e) {}\n        }\n\n        dispatch({\n          type: DISABLE\n        });\n      };\n    },\n    selectIsDebug: function (state) {\n      return state.debug;\n    },\n    getMiddleware: function () {\n      return function (store) {\n        return function (next) {\n          return function (action) {\n            var isDebug = store.getState().debug;\n\n            if (!isDebug || opts.actionFilter && !opts.actionFilter(action)) {\n              return next(action);\n            }\n\n            console.group(action.type);\n            console.info('action:', action);\n            var result = next(action);\n            opts.logState && console.debug('state:', store.getState());\n            opts.logSelectors && store.doLogSelectors();\n            store.doLogNextReaction && store.doLogNextReaction();\n            console.groupEnd(action.type);\n            return result;\n          };\n        };\n      };\n    },\n    doLogBundles: function () {\n      return function (ref) {\n        var store = ref.store;\n        log(store.meta.chunks.reduce(function (result, chunk) {\n          result.push.apply(result, chunk.bundleNames);\n          return result;\n        }, []), {\n          label: 'installed bundles:',\n          color: colorBlue\n        });\n      };\n    },\n    doLogSelectors: function () {\n      return function (ref) {\n        var store = ref.store;\n        log(Object.keys(store.meta.unboundSelectors).sort().reduce(function (res, name$$1) {\n          res[name$$1] = store[name$$1]();\n          return res;\n        }, {}), {\n          label: 'selectors:',\n          color: colorGreen\n        });\n      };\n    },\n    doLogActionCreators: function () {\n      return function (ref) {\n        var store = ref.store;\n        log(Object.keys(store.meta.unboundActionCreators).sort(), {\n          label: 'action creators:',\n          color: colorOrange\n        });\n      };\n    },\n    doLogReactors: function () {\n      return function (ref) {\n        var store = ref.store;\n        log(store.meta.reactorNames, {\n          label: 'reactors:',\n          color: colorOrange\n        });\n      };\n    },\n    doLogNextReaction: function () {\n      return function (ref) {\n        var store = ref.store;\n        var nextReaction = store.nextReaction;\n        var activeReactor = store.activeReactor;\n\n        if (nextReaction) {\n          log(nextReaction, {\n            color: colorOrange,\n            label: \"next reaction \" + activeReactor + \":\"\n          });\n        }\n      };\n    },\n    doLogDebugSummary: function () {\n      return function (ref) {\n        var store = ref.store;\n        store.doLogBundles();\n        store.doLogSelectors();\n        store.doLogActionCreators();\n        store.doLogReactors();\n        store.doLogNextReaction();\n      };\n    },\n    init: function (store) {\n      if (store.selectIsDebug()) {\n        if (IS_BROWSER) {\n          self.store = store;\n          console.groupCollapsed(\"%credux bundler v\" + version, colorBlue);\n          store.doLogDebugSummary();\n          console.groupEnd();\n        }\n      }\n    }\n  };\n};\n\nvar OFFLINE = 'OFFLINE';\nvar ONLINE = 'ONLINE';\nvar online = {\n  name: 'online',\n  selectIsOnline: function (state) {\n    return state.online;\n  },\n  getReducer: function getReducer() {\n    var initialState = IS_BROWSER ? navigator.onLine : true;\n    return function (state, ref) {\n      if (state === void 0) state = initialState;\n      var type = ref.type;\n\n      if (type === OFFLINE) {\n        return false;\n      }\n\n      if (type === ONLINE) {\n        return true;\n      }\n\n      return state;\n    };\n  },\n  init: function init(store) {\n    var removeOnlineListener = addGlobalListener('online', function () {\n      return store.dispatch({\n        type: ONLINE\n      });\n    });\n    var removeOfflineListener = addGlobalListener('offline', function () {\n      return store.dispatch({\n        type: OFFLINE\n      });\n    });\n    return function () {\n      removeOnlineListener();\n      removeOfflineListener();\n    };\n  }\n};\nvar appTimeBundle = appTime;\nvar asyncCountBundle = asyncCount;\nvar createCacheBundle = caching;\nvar createRouteBundle = createRoutingBundle;\nvar createAsyncResourceBundle$1 = createAsyncResourceBundle;\nvar createReactorBundle = reactors;\nvar getIdleDispatcher$1 = getIdleDispatcher;\nvar onlineBundle = online;\nvar createUrlBundle = url;\nvar createDebugBundle = createDebug;\nvar composeBundlesRaw = composeBundles;\nvar createGeolocationBundle = geolocation;\n\nvar composeBundles$1 = function () {\n  var userBundles = [],\n      len = arguments.length;\n\n  while (len--) userBundles[len] = arguments[len];\n\n  userBundles || (userBundles = []);\n  var bundles = [appTime, asyncCount, online, url(), reactors(), createDebug()].concat(userBundles);\n  return composeBundles.apply(void 0, bundles);\n};\n\nexport { appTimeBundle, asyncCountBundle, createCacheBundle, createRouteBundle, createAsyncResourceBundle$1 as createAsyncResourceBundle, createReactorBundle, getIdleDispatcher$1 as getIdleDispatcher, onlineBundle, createUrlBundle, createDebugBundle, composeBundlesRaw, createGeolocationBundle, composeBundles$1 as composeBundles, createSelector$1 as createSelector, resolveSelectors, HAS_DEBUG_FLAG, HAS_WINDOW, IS_BROWSER, IS_PROD, raf, ric, isPassiveSupported, PASSIVE_EVENTS_SUPPORTED, startsWith, flattenExtractedToObject, flattenExtractedToArray, addGlobalListener, selectorNameToValueName, debounce, saveScrollPosition, restoreScrollPosition, initScrollPosition, createStore, combineReducers, bindActionCreators, applyMiddleware, compose, ActionTypes as __DO_NOT_USE__ActionTypes };","map":{"version":3,"sources":["C:/Examples/aepmap/aep-map/node_modules/@corpsmap/corpsmap/node_modules/redux-bundler/dist/redux-bundler.m.js"],"names":["appTime","name","reducer","Date","now","selectAppTime","state","changes","STARTED","FINISHED","FAILED","re","asyncCount","ref","type","result","exec","selectAsyncActive","namedActionMiddleware","store","next","action","actionCreator","args","found","meta","unboundActionCreators","Error","apply","thunkMiddleware","extraArgCreators","extraArgs","reduce","fn","Object","assign","getState","dispatch","symbolObservablePonyfill","root","Symbol","observable","self","window","global","module","Function","randomString","Math","random","toString","substring","split","join","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","proto","getPrototypeOf","createStore","preloadedState","enhancer","_ref2","arguments","undefined","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","subscribe","listener","isSubscribed","push","unsubscribe","index","indexOf","splice","listeners","i","length","replaceReducer","nextReducer","_ref","outerSubscribe","observer","TypeError","observeState","warning","message","console","error","e","getUndefinedStateErrorMessage","key","actionType","actionDescription","String","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","keys","argumentName","call","match","unexpectedKeys","filter","hasOwnProperty","forEach","assertReducerShape","initialState","combineReducers","finalReducers","process","env","NODE_ENV","finalReducerKeys","shapeAssertionError","combination","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","bindActionCreators","actionCreators","boundActionCreators","_defineProperty","value","defineProperty","enumerable","configurable","writable","_objectSpread","target","source","ownKeys","getOwnPropertySymbols","concat","sym","getOwnPropertyDescriptor","compose","_len","funcs","Array","arg","a","b","applyMiddleware","middlewares","_dispatch","middlewareAPI","chain","map","middleware","isCrushed","customApplyMiddleware","len","createStore$$1","defaultEqualityCheck","areArgumentsShallowlyEqual","equalityCheck","prev","defaultMemoize","func","lastArgs","lastResult","getDependencies","dependencies","isArray","every","dep","dependencyTypes","createSelectorCreator","memoize","memoizeOptions","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","selector","params","resetRecomputations","createSelector","ensureFn","createSelector$1","fns","deferredSelector","deps","newArgs","resolveSelectors","isResolved","hasAtLeastOneResolved","loop","selectorName","val","depsAreResolved","resolve","hasUnresolved","selectorFn","startTime","duration","debug","localStorage","HAS_DEBUG_FLAG","HAS_WINDOW","IS_BROWSER","IS_PROD","fallback","setTimeout","raf","requestAnimationFrame","ric","requestIdleCallback","isPassiveSupported","passiveSupported","options","get","addEventListener","removeEventListener","err","PASSIVE_EVENTS_SUPPORTED","startsWith","string","searchString","substr","flattenExtractedToObject","extracted","appName","flattenExtractedToArray","accum","addGlobalListener","eventName","handler","opts","passive","debounce","selectorNameToValueName","start","toLowerCase","wait","timeout","debounced","ctx","clearTimeout","cancel","saveScrollPosition","history","replaceState","height","innerHeight","width","innerWidth","y","scrollY","x","scrollX","restoreScrollPosition","newStyle","document","body","setAttribute","scrollTo","removeAttribute","initScrollPosition","scrollRestoration","removePopstateListener","removeScrollListener","normalizeBundle","bundle","getReducer","init","getExtraArgs","middlewareCreators","getMiddleware","selectors","reactorNames","rawBundle","isSelector","isReactor","createChunk","rawBundles","normalizedBundles","bundleNames","processedBundles","initMethods","destroyMethods","addBindingMethods","subscriptions","watchedValues","set","Set","watchedSelectors","watch","unwatch","count","newValues","all","selectAll","select","changed","subscription","relevantChanges","names","subscribeToAllChanges","callback","subscribeToSelectors","isAll","add","delete","bindSelectorsToStore","decorateStore","processed","chunks","unboundSelectors","combinedSelectors","destroy","enableBatchDispatch","actions","enableReplaceState","payload","enhanceReducer","devTools","__REDUX_DEVTOOLS_EXTENSION__","composeBundles","bundles","firstChunk","data","selectorNames","integrateBundles","bundlesToIntegrate","allReducers","chunk","buildPersistActionMap","optionalParam","namedParam","escapeRegExp","splatParam","parsePattern","pattern","replace","optional","regExp","RegExp","namedParams","featherRouteMatcher","routes","item","url","route","matchFound","some","parsed","page","defaults","routeInfoSelector","createRoutingBundle","spec","routeMatcher","selectRoutes","selectRouteMatcher","selectRouteInfo","selectRouteParams","selectRoute","defaultOpts","actionBaseType","staleAfter","retryAfter","expireAfter","Infinity","checkIfOnline","persist","createAsyncResourceBundle","requiredOptions","requiredOption","uCaseName","charAt","toUpperCase","baseType","inputSelectorName","dataSelectorName","lastSuccessSelectorName","isExpiredSelectorName","lastErrorSelectorName","isStaleSelectorName","isWaitingToRetrySelectorName","isLoadingSelectorName","failedPermanentlySelectorName","shouldUpdateSelectorName","CLEARED","OUTDATED","EXPIRED","doFetchError","doMarkAsOutdated","doClear","doExpire","doFetchSuccess","doFetchData","getPromise","then","errorTimes","errorType","lastSuccess","isOutdated","isLoading","isExpired","failedPermanently","merge","updatedData","permanent","time","resource","resourceState","isWaitingToRetry","isStale","isOnline","persistActions","caching","cacheFn","logger","enabled","persistActionMap","actionMap","reducersToPersist","res","Promise","getError","geoErrorArray","defaultOpts$1","enableHighAccuracy","geolocation","reject","navigator","success","position","coords","timestamp","fail","code","geoOpts","getCurrentPosition","defaults$1","idleTimeout","idleAction","doneCallback","stopWhenTabInactive","cancelIdleWhenDone","reactorPermissionCheck","ricOptions","getIdleDispatcher","stopWhenInactive","reactors","idleDispatcher","cancelIfDone","nextReaction","dispatchNext","activeReactor","has","prototype","undef","decode","input","decodeURIComponent","querystring","query","parser","part","querystringify","prefix","pairs","isNaN","encodeURIComponent","stringify","parse","querystringify_1","isString","isDefined","thing","ensureString","IPRE","parseSubdomains","hostname","getBareHost","test","parts","removeLeading","char","ensureLeading","loc","location","defaults$2","inert","handleScrollRestoration","makeSerializable","config","selectUrlRaw","selectUrlObject","urlState","URL","selectQueryObject","urlObj","search","selectQueryString","queryObj","selectPathname","pathname","selectHash","hash","selectHashObject","selectHostname","selectSubdomains","doUpdateUrl","newState","maintainScrollPosition","href","doReplaceUrl","doUpdateQuery","doUpdateHash","removeScrollPosition","lastState","newUrl","version","createDebug","ENABLE","DISABLE","colorBlue","colorGreen","colorOrange","log","toLog","method","label","color","logSelectors","logState","actionFilter","doEnableDebug","doDisableDebug","selectIsDebug","isDebug","group","info","doLogSelectors","doLogNextReaction","groupEnd","doLogBundles","sort","name$$1","doLogActionCreators","doLogReactors","doLogDebugSummary","groupCollapsed","OFFLINE","ONLINE","online","selectIsOnline","onLine","removeOnlineListener","removeOfflineListener","appTimeBundle","asyncCountBundle","createCacheBundle","createRouteBundle","createAsyncResourceBundle$1","createReactorBundle","getIdleDispatcher$1","onlineBundle","createUrlBundle","createDebugBundle","composeBundlesRaw","createGeolocationBundle","composeBundles$1","userBundles","__DO_NOT_USE__ActionTypes"],"mappings":"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","sourcesContent":["var appTime = {\n  name: 'appTime',\n  reducer: function () { return Date.now(); },\n  selectAppTime: function (state) { return state.appTime; }\n};\n\nvar changes = {\n  STARTED: 1,\n  FINISHED: -1,\n  FAILED: -1\n};\nvar re = /_(STARTED|FINISHED|FAILED)$/;\nvar asyncCount = {\n  name: 'asyncCount',\n  reducer: function (state, ref) {\n    if ( state === void 0 ) state = 0;\n    var type = ref.type;\n\n    var result = re.exec(type);\n    if (!result) { return state; }\n    return state + changes[result[1]];\n  },\n  selectAsyncActive: function (state) { return state.asyncCount > 0; }\n};\n\nvar namedActionMiddleware = (function (store) { return function (next) { return function (action) {\n  var actionCreator = action.actionCreator;\n  var args = action.args;\n\n  if (actionCreator) {\n    var found = store.meta.unboundActionCreators[actionCreator];\n\n    if (!found) {\n      throw Error((\"NoSuchActionCreator: \" + actionCreator));\n    }\n\n    return next(args ? found.apply(void 0, args) : found());\n  }\n\n  return next(action);\n}; }; });\n\nvar thunkMiddleware = (function (extraArgCreators) { return function (store) {\n  var extraArgs = extraArgCreators.reduce(function (result, fn) { return Object.assign(result, fn(store)); }, {});\n  return function (next) { return function (action) {\n    if (typeof action === 'function') {\n      var getState = store.getState;\n      var dispatch = store.dispatch;\n      return action(Object.assign({}, {\n        getState: getState,\n        dispatch: dispatch,\n        store: store\n      }, extraArgs));\n    }\n\n    return next(action);\n  }; };\n}; });\n\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n}\n\n/* global window */\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = symbolObservablePonyfill(root);\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[result] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[result] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers);\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(\"Dispatching while constructing your middleware is not allowed. \" + \"Other middleware would not be applied to this dispatch.\");\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\n// Modified to expose all of `store` to middleware instead of just\nvar customApplyMiddleware = (function () {\n  var middlewares = [], len = arguments.length;\n  while ( len-- ) middlewares[ len ] = arguments[ len ];\n\n  return function (createStore$$1) { return function (reducer, preloadedState, enhancer) {\n  var store = createStore$$1(reducer, preloadedState, enhancer);\n  var chain = middlewares.map(function (middleware) { return middleware(store); });\n  store.dispatch = compose.apply(void 0, chain)(store.dispatch);\n  return store;\n}; };\n});\n\nfunction defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nfunction createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = defaultMemoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nvar createSelector = createSelectorCreator(defaultMemoize);\n\nvar ensureFn = function (obj, name) {\n  if (typeof name !== 'string') {\n    return name;\n  }\n\n  var found = obj[name];\n\n  if (!found) {\n    throw Error('No selector ' + name + ' found on the obj.');\n  }\n\n  return found;\n};\n\nvar createSelector$1 = function () {\n  var fns = [], len = arguments.length;\n  while ( len-- ) fns[ len ] = arguments[ len ];\n\n  var resultFunc = fns.slice(-1)[0];\n\n  var deferredSelector = function (obj, deps) {\n    var newArgs = deps.map(function (fn) { return ensureFn(obj, fn); });\n    newArgs.push(resultFunc);\n    return createSelector.apply(void 0, newArgs);\n  };\n\n  deferredSelector.deps = fns.slice(0, -1);\n  deferredSelector.resultFunc = resultFunc;\n  return deferredSelector;\n};\nvar resolveSelectors = function (obj) {\n  // an item is resolved if it is either a\n  // function with no dependencies or if\n  // it's on the object with no dependencies\n  var isResolved = function (name) { return name.call && !name.deps || !obj[name].deps; }; // flag for checking if we have *any*\n\n\n  var hasAtLeastOneResolved = false; // extract all deps and any resolved items\n\n  var loop = function ( selectorName ) {\n    var fn = obj[selectorName];\n\n    if (!isResolved(selectorName)) {\n      fn.deps = fn.deps.map(function (val, index) {\n        // if it is a function not a string\n        if (val.call) {\n          // look for it already on the object\n          for (var key in obj) {\n            if (obj[key] === val) {\n              // return its name if found\n              return key;\n            }\n          } // we didn't find it and it doesn't have a name\n          // but if it's a fully resolved selector that's ok\n\n\n          if (!val.deps) {\n            hasAtLeastOneResolved = true;\n            return val;\n          }\n        } // the `val` is a string that exists on the object return the string\n        // we'll resolve it later\n\n\n        if (obj[val]) { return val; } // if we get here, its a string that doesn't exist on the object\n        // which won't work, so we throw a helpful error\n\n        throw Error((\"The input selector at index \" + index + \" for '\" + selectorName + \"' is missing from the object passed to resolveSelectors()\"));\n      });\n    } else {\n      hasAtLeastOneResolved = true;\n    }\n  };\n\n  for (var selectorName in obj) loop( selectorName );\n\n  if (!hasAtLeastOneResolved) {\n    throw Error(\"You must pass at least one real selector. If they're all string references there's no\");\n  }\n\n  var depsAreResolved = function (deps) { return deps.every(isResolved); };\n\n  var resolve = function () {\n    var hasUnresolved = false;\n\n    for (var selectorName in obj) {\n      var fn = obj[selectorName];\n\n      if (!isResolved(selectorName)) {\n        hasUnresolved = true;\n\n        if (depsAreResolved(fn.deps)) {\n          // we could just use `obj[selectorName] = fn(obj, fn.deps)`, but that\n          // has a significant performance impact when trying to perform this\n          // on a large object (> 1000). More on this here:\n          // http://2ality.com/2014/01/object-assign.html\n          var selectorFn = fn(obj, fn.deps);\n          delete obj[selectorName];\n          obj[selectorName] = selectorFn;\n        }\n      }\n    }\n\n    return hasUnresolved;\n  };\n\n  var startTime;\n\n  while (resolve()) {\n    if (!startTime) { startTime = Date.now(); }\n    var duration = Date.now() - startTime;\n\n    if (duration > 500) {\n      throw Error('Could not resolve selector dependencies.');\n    }\n  }\n\n  return obj;\n};\n\nvar debug = false;\n\ntry {\n  debug = !!window.localStorage.debug;\n} catch (e) {}\n\nvar HAS_DEBUG_FLAG = debug || false;\nvar HAS_WINDOW = typeof window !== 'undefined';\nvar IS_BROWSER = HAS_WINDOW || typeof self !== 'undefined';\nvar IS_PROD = process.env.NODE_ENV === 'production';\n\nvar fallback = function (func) { return setTimeout(func, 0); };\n\nvar raf = IS_BROWSER && self.requestAnimationFrame ? self.requestAnimationFrame : fallback;\nvar ric = IS_BROWSER && self.requestIdleCallback ? self.requestIdleCallback : fallback; // can dump this once IE 11 support is no longer necessary\n\nvar isPassiveSupported = function () {\n  var passiveSupported = false;\n\n  try {\n    var options = Object.defineProperty({}, 'passive', {\n      get: function () {\n        passiveSupported = true;\n      }\n    });\n    window.addEventListener('test', options, options);\n    window.removeEventListener('test', options, options);\n  } catch (err) {\n    passiveSupported = false;\n  }\n\n  return passiveSupported;\n};\nvar PASSIVE_EVENTS_SUPPORTED = isPassiveSupported();\nvar startsWith = function (string, searchString) { return string.substr(0, searchString.length) === searchString; };\nvar flattenExtractedToObject = function (extracted) {\n  var result = {};\n\n  for (var appName in extracted) {\n    Object.assign(result, extracted[appName]);\n  }\n\n  return result;\n};\nvar flattenExtractedToArray = function (extracted) {\n  var accum = [];\n\n  for (var appName in extracted) {\n    accum.push.apply(accum, extracted[appName]);\n  }\n\n  return accum;\n};\nvar addGlobalListener = function (eventName, handler, opts) {\n  if ( opts === void 0 ) opts = {\n  passive: false\n};\n\n  if (!IS_BROWSER) { return function () {}; }\n  var args = opts.passive ? PASSIVE_EVENTS_SUPPORTED ? [eventName, handler, {\n    passive: true\n  }] : [eventName, debounce(handler, 200), false] : [eventName, handler];\n  self.addEventListener.apply(self, args);\n  return function () { return self.removeEventListener.apply(self, args); };\n};\nvar selectorNameToValueName = function (name) {\n  var start = name[0] === 's' ? 6 : 5;\n  return name[start].toLowerCase() + name.slice(start + 1);\n};\nvar debounce = function (fn, wait) {\n  var timeout;\n\n  var debounced = function () {\n    var ctx = this;\n    var args = arguments;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn.apply(ctx, args);\n    }, wait);\n  };\n\n  debounced.cancel = function () {\n    clearTimeout(timeout);\n  };\n\n  return debounced;\n};\nvar saveScrollPosition = function () {\n  history.replaceState({\n    height: window.innerHeight,\n    width: window.innerWidth,\n    y: window.scrollY,\n    x: window.scrollX\n  }, '');\n};\nvar restoreScrollPosition = function () {\n  var state = history.state;\n\n  if (state) {\n    // we'll force it to our known height since the DOM rendering may\n    // be async and the height may not be restored yet.\n    setTimeout(function () {\n      var newStyle = \"height: \" + (state.height) + \"px; width: \" + (state.width) + \"px;\";\n      document.body.setAttribute('style', newStyle);\n      window.scrollTo(state.x, state.y);\n      ric(function () { return document.body.removeAttribute('style'); });\n    });\n  }\n};\nvar initScrollPosition = function () {\n  if (!HAS_WINDOW) {\n    return;\n  } // turn off browser scroll restoration if available\n\n\n  if (history.scrollRestoration) {\n    history.scrollRestoration = 'manual';\n  }\n\n  var removePopstateListener = addGlobalListener('popstate', restoreScrollPosition);\n  var removeScrollListener = addGlobalListener('scroll', debounce(saveScrollPosition, 300), {\n    passive: true\n  });\n  restoreScrollPosition();\n  return function () {\n    removePopstateListener();\n    removeScrollListener();\n  };\n};\n\nvar normalizeBundle = function (bundle) {\n  var name = bundle.name;\n  if (!name) { throw TypeError('bundles must have a \"name\" property'); }\n  var result = {\n    name: name,\n    reducer: bundle.reducer || bundle.getReducer && bundle.getReducer() || null,\n    init: bundle.init || null,\n    extraArgCreators: bundle.getExtraArgs || null,\n    middlewareCreators: bundle.getMiddleware,\n    actionCreators: null,\n    selectors: null,\n    reactorNames: null,\n    rawBundle: bundle\n  };\n  Object.keys(bundle).forEach(function (key) {\n    if (startsWith(key, 'do')) {\n      (result.actionCreators || (result.actionCreators = {}))[key] = bundle[key];\n      return;\n    }\n\n    var isSelector = startsWith(key, 'select');\n    var isReactor = startsWith(key, 'react');\n\n    if (isSelector || isReactor) {\n      (result.selectors || (result.selectors = {}))[key] = bundle[key];\n\n      if (isReactor) {\n        (result.reactorNames || (result.reactorNames = [])).push(key);\n      }\n    }\n  });\n  return result;\n};\nvar createChunk = function (rawBundles) {\n  var normalizedBundles = rawBundles.map(normalizeBundle);\n  var result = {\n    bundleNames: [],\n    reducers: {},\n    selectors: {},\n    actionCreators: {},\n    rawBundles: [],\n    processedBundles: [],\n    initMethods: [],\n    destroyMethods: [],\n    middlewareCreators: [],\n    extraArgCreators: [],\n    reactorNames: []\n  };\n  normalizedBundles.forEach(function (bundle) {\n    var obj, ref;\n\n    result.bundleNames.push(bundle.name);\n    Object.assign(result.selectors, bundle.selectors);\n    Object.assign(result.actionCreators, bundle.actionCreators);\n\n    if (bundle.reducer) {\n      Object.assign(result.reducers, ( obj = {}, obj[bundle.name] = bundle.reducer, obj ));\n    }\n\n    if (bundle.init) { result.initMethods.push(bundle.init); }\n\n    if (bundle.middlewareCreators) {\n      result.middlewareCreators.push(bundle.middlewareCreators);\n    }\n\n    if (bundle.extraArgCreators) {\n      result.extraArgCreators.push(bundle.extraArgCreators);\n    }\n\n    if (bundle.reactorNames) { (ref = result.reactorNames).push.apply(ref, bundle.reactorNames); }\n    result.processedBundles.push(bundle);\n    result.rawBundles.push(bundle.rawBundle);\n  });\n  return result;\n};\n\nvar addBindingMethods = (function (store) {\n  store.subscriptions = {\n    watchedValues: {}\n  };\n  var subscriptions = store.subscriptions.set = new Set();\n  var watchedSelectors = store.subscriptions.watchedSelectors = {};\n\n  var watch = function (selectorName) {\n    watchedSelectors[selectorName] = (watchedSelectors[selectorName] || 0) + 1;\n  };\n\n  var unwatch = function (selectorName) {\n    var count = watchedSelectors[selectorName] - 1;\n\n    if (count === 0) {\n      delete watchedSelectors[selectorName];\n    } else {\n      watchedSelectors[selectorName] = count;\n    }\n  }; // add single store subscription for tracking watched changes\n\n\n  store.subscribe(function () {\n    var newValues = watchedSelectors.all ? store.selectAll() : store.select(Object.keys(watchedSelectors));\n    var ref = store.subscriptions;\n    var watchedValues = ref.watchedValues; // the only diffing in the app happens here\n\n    var changed = {};\n\n    for (var key in newValues) {\n      var val = newValues[key];\n\n      if (val !== watchedValues[key]) {\n        changed[key] = val;\n      }\n    }\n\n    store.subscriptions.watchedValues = newValues; // look through subscriptions to trigger\n\n    subscriptions.forEach(function (subscription) {\n      var relevantChanges = {};\n      var hasChanged = false;\n\n      if (subscription.names === 'all') {\n        Object.assign(relevantChanges, changed);\n        hasChanged = !!Object.keys(relevantChanges).length;\n      } else {\n        subscription.names.forEach(function (name) {\n          if (changed.hasOwnProperty(name)) {\n            relevantChanges[name] = changed[name];\n            hasChanged = true;\n          }\n        });\n      }\n\n      if (hasChanged) {\n        subscription.fn(relevantChanges);\n      }\n    });\n  }); // this exists separately in order to support\n  // subscribing to all changes even after lazy-loading\n  // additional bundles\n\n  store.subscribeToAllChanges = function (callback) { return store.subscribeToSelectors('all', callback); }; // given an array of selector names, it will call the\n  // callback any time those have changed with an object\n  // containing only changed values\n\n\n  store.subscribeToSelectors = function (keys, callback) {\n    var isAll = keys === 'all'; // re-use loop for double duty\n    // extract names, but also ensure\n    // selector actually exists on store\n\n    var subscription = {\n      fn: callback,\n      names: isAll ? 'all' : keys.map(selectorNameToValueName)\n    };\n    subscriptions.add(subscription);\n    isAll ? watch('all') : keys.forEach(watch); // make sure starting values are in watched so we can\n    // track changes\n\n    Object.assign(store.subscriptions.watchedValues, isAll ? store.selectAll() : store.select(keys)); // return function that can be used to unsubscribe\n\n    return function () {\n      subscriptions.delete(subscription);\n      isAll ? unwatch('all') : keys.forEach(unwatch);\n    };\n  };\n});\n\nvar bindSelectorsToStore = function (store, selectors) {\n  var loop = function ( key ) {\n    var selector = selectors[key];\n\n    if (!store[key]) {\n      store[key] = function () { return selector(store.getState()); };\n    }\n  };\n\n  for (var key in selectors) loop( key );\n};\n\nvar decorateStore = function (store, processed) {\n  if (!store.meta) {\n    store.meta = {\n      chunks: [],\n      unboundSelectors: {},\n      unboundActionCreators: {},\n      reactorNames: [],\n      destroyMethods: []\n    };\n  }\n\n  var meta = store.meta; // attach for reference\n\n  meta.chunks.push(processed); // grab existing unbound (but resolved) selectors, combine with new ones\n\n  var combinedSelectors = Object.assign(meta.unboundSelectors, processed.selectors); // run resolver\n\n  resolveSelectors(combinedSelectors); // update collection of resolved selectors\n\n  meta.unboundSelectors = combinedSelectors; // make sure all selectors are bound (won't overwrite if already bound)\n\n  bindSelectorsToStore(store, combinedSelectors); // build our list of reactor names\n\n  meta.reactorNames = meta.reactorNames.concat(processed.reactorNames); // extend global collections with new stuff\n\n  Object.assign(meta.unboundActionCreators, processed.actionCreators); // bind and attach only the next action creators to the store\n\n  Object.assign(store, bindActionCreators(processed.actionCreators, store.dispatch)); // build list of destroy methods\n\n  meta.destroyMethods = meta.destroyMethods.concat(processed.destroyMethods); // run any new init methods. Use their return function as potential\n  // destroy methods.\n\n  processed.initMethods.forEach(function (init) {\n    var destroy = init(store);\n\n    if (typeof destroy === 'function') {\n      meta.destroyMethods = meta.destroyMethods.concat(destroy);\n    }\n  });\n};\n\nvar enableBatchDispatch = function (reducer) { return function (state, action) {\n  if (action.type === 'BATCH_ACTIONS') {\n    return action.actions.reduce(reducer, state);\n  }\n\n  return reducer(state, action);\n}; };\n\nvar enableReplaceState = function (reducer) { return function (state, action) {\n  if (action.type === 'REPLACE_STATE') {\n    return reducer(action.payload, action);\n  }\n\n  return reducer(state, action);\n}; };\n\nvar enhanceReducer = compose(enableBatchDispatch, enableReplaceState);\n\nvar devTools = function () { return HAS_WINDOW && window.__REDUX_DEVTOOLS_EXTENSION__ && (HAS_DEBUG_FLAG || !IS_PROD) ? window.__REDUX_DEVTOOLS_EXTENSION__() : function (a) { return a; }; };\n\nvar composeBundles = function () {\n  var bundles = [], len = arguments.length;\n  while ( len-- ) bundles[ len ] = arguments[ len ];\n\n  // build out object of extracted bundle info\n  var firstChunk = createChunk(bundles);\n  return function (data) {\n    // actually init our store\n    var store = createStore(enhanceReducer(combineReducers(firstChunk.reducers)), data, compose(customApplyMiddleware.apply(void 0, [ namedActionMiddleware, thunkMiddleware(firstChunk.extraArgCreators) ].concat( firstChunk.middlewareCreators.map(function (fn) { return fn(firstChunk); }) )), devTools())); // get values from an array of selector names\n\n    store.select = function (selectorNames) { return selectorNames.reduce(function (obj, name) {\n      if (!store[name]) { throw Error((\"SelectorNotFound \" + name)); }\n      obj[selectorNameToValueName(name)] = store[name]();\n      return obj;\n    }, {}); }; // get all values from all available selectors (even if added later)\n\n\n    store.selectAll = function () { return store.select(Object.keys(store.meta.unboundSelectors)); }; // add support for dispatching an action by name\n\n\n    store.action = function (name, args) { return store[name].apply(store, args); }; // adds support for subscribing to changes from an array of selector strings\n\n\n    addBindingMethods(store); // add all the gathered bundle data into the store\n\n    decorateStore(store, firstChunk); // add support for destroying the store (to remove event listeners, etc)\n\n    store.destroy = function () { return store.meta.destroyMethods.forEach(function (destroy) { return destroy(store); }); }; // defines method for integrating other bundles later\n\n\n    store.integrateBundles = function () {\n      var bundlesToIntegrate = [], len = arguments.length;\n      while ( len-- ) bundlesToIntegrate[ len ] = arguments[ len ];\n\n      decorateStore(store, createChunk(bundlesToIntegrate));\n      var allReducers = store.meta.chunks.reduce(function (accum, chunk) { return Object.assign(accum, chunk.reducers); }, {});\n      store.replaceReducer(enhanceReducer(combineReducers(allReducers)));\n      store.buildPersistActionMap && store.buildPersistActionMap();\n    };\n\n    return store;\n  };\n};\n\n// regexes borrowed from backbone\nvar optionalParam = /\\((.*?)\\)/g;\nvar namedParam = /(\\(\\?)?:\\w+/g;\nvar escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\nvar splatParam = /\\*/g;\n\n// Parses a URL pattern such as `/users/:id`\n// and builds and returns a regex that can be used to\n// match said pattern. Credit for these\n// regexes belongs to Jeremy Ashkenas and the\n// other maintainers of Backbone.js\n//\n// It has been modified for extraction of\n// named paramaters from the URL\nvar parsePattern = function (pattern) {\n  var names = [];\n  pattern = pattern\n    .replace(escapeRegExp, '\\\\$&')\n    .replace(optionalParam, '(?:$1)?')\n    .replace(namedParam, function (match, optional) {\n      names.push(match.slice(1));\n      return optional ? match : '([^/?]+)'\n    })\n    .replace(splatParam, function (match, optional) {\n      names.push('path');\n      return '([^?]*?)'\n    });\n\n  return {\n    regExp: new RegExp('^' + pattern + '(?:\\\\?([\\\\s\\\\S]*))?$'),\n    namedParams: names\n  }\n};\n\nvar featherRouteMatcher = function (routes, fallback) {\n  var keys = Object.keys(routes);\n\n  // loop through each route we're\n  // and build the shell of our\n  // route cache.\n  for (var item in routes) {\n    routes[item] = {\n      value: routes[item]\n    };\n  }\n\n  // main result is a function that can be called\n  // with the url\n  return function (url) {\n    var params;\n    var route;\n\n    // start looking for matches\n    var matchFound = keys.some(function (key) {\n      var parsed;\n\n      // fetch the route pattern from the cache\n      // there will always be one\n      route = routes[key];\n\n      // if the route doesn't already have\n      // a regex we never generated one\n      // so we do that here lazily.\n      // Parse the pattern to generate the\n      // regex once, and store the result\n      // for next time.\n      if (!route.regExp) {\n        parsed = parsePattern(key);\n        route.regExp = parsed.regExp;\n        route.namedParams = parsed.namedParams;\n        route.pattern = key;\n      }\n\n      // run our cached regex\n      var result = route.regExp.exec(url);\n\n      // if null there was no match\n      // returning falsy here continues\n      // the `Array.prototype.some` loop\n      if (!result) {\n        return\n      }\n\n      // remove other cruft from result\n      result = result.slice(1, -1);\n\n      // reduce our match to an object of named paramaters\n      // we've extracted from the url\n      params = result.reduce(function (obj, val, index) {\n        if (val) {\n          obj[route.namedParams[index]] = val;\n        }\n        return obj\n      }, {});\n\n      // stops the loop\n      return true\n    });\n\n    // no routes matched\n    if (!matchFound) {\n      if (fallback) {\n        return {\n          page: fallback,\n          url: url,\n          params: null\n        }\n      }\n      return null\n    }\n\n    return {\n      page: route.value,\n      params: params,\n      url: url,\n      pattern: route.pattern\n    }\n  }\n};\n\nvar defaults = {\n  routeInfoSelector: 'selectPathname'\n};\nvar createRoutingBundle = (function (routes, spec) {\n  var opts = Object.assign({}, defaults, spec);\n  var routeInfoSelector = opts.routeInfoSelector;\n  var routeMatcher = featherRouteMatcher(routes);\n  return {\n    name: 'routes',\n    selectRoutes: function () { return routes; },\n    selectRouteMatcher: function () { return routeMatcher; },\n    selectRouteInfo: createSelector$1(routeInfoSelector, routeMatcher),\n    selectRouteParams: createSelector$1('selectRouteInfo', function (ref) {\n      var params = ref.params;\n\n      return params;\n  }),\n    selectRoute: createSelector$1('selectRouteInfo', function (ref) {\n      var page = ref.page;\n\n      return page;\n  })\n  };\n});\n\nvar defaultOpts = {\n  actionBaseType: null,\n  staleAfter: 900000,\n  // fifteen minutes\n  retryAfter: 60000,\n  // one minute,\n  expireAfter: Infinity,\n  checkIfOnline: true,\n  persist: true\n};\nvar createAsyncResourceBundle = (function (spec) {\n  var opts = Object.assign({}, defaultOpts, spec);\n\n  if (process.env.NODE_ENV !== 'production') {\n    var requiredOptions = ['name', 'getPromise'];\n    requiredOptions.forEach(function (requiredOption) {\n      if (!opts[requiredOption]) {\n        throw Error((\"You must supply a \" + requiredOption + \" option when creating a resource bundle.\"));\n      }\n    });\n  }\n\n  var name = opts.name;\n  var staleAfter = opts.staleAfter;\n  var retryAfter = opts.retryAfter;\n  var actionBaseType = opts.actionBaseType;\n  var checkIfOnline = opts.checkIfOnline;\n  var expireAfter = opts.expireAfter;\n  var uCaseName = name.charAt(0).toUpperCase() + name.slice(1);\n  var baseType = actionBaseType || name.toUpperCase(); // build selectors\n\n  var inputSelectorName = \"select\" + uCaseName + \"Raw\";\n  var dataSelectorName = \"select\" + uCaseName;\n  var lastSuccessSelectorName = \"select\" + uCaseName + \"LastSuccess\";\n  var isExpiredSelectorName = \"select\" + uCaseName + \"IsExpired\";\n  var lastErrorSelectorName = \"select\" + uCaseName + \"LastError\";\n  var isStaleSelectorName = \"select\" + uCaseName + \"IsStale\";\n  var isWaitingToRetrySelectorName = \"select\" + uCaseName + \"IsWaitingToRetry\";\n  var isLoadingSelectorName = \"select\" + uCaseName + \"IsLoading\";\n  var failedPermanentlySelectorName = \"select\" + uCaseName + \"FailedPermanently\";\n  var shouldUpdateSelectorName = \"select\" + uCaseName + \"ShouldUpdate\"; // action types\n\n  var actions = {\n    STARTED: (baseType + \"_FETCH_STARTED\"),\n    FINISHED: (baseType + \"_FETCH_FINISHED\"),\n    FAILED: (baseType + \"_FETCH_FAILED\"),\n    CLEARED: (baseType + \"_CLEARED\"),\n    OUTDATED: (baseType + \"_OUTDATED\"),\n    EXPIRED: (baseType + \"_EXPIRED\") // action creators\n\n  };\n\n  var doFetchError = function (error) { return ({\n    type: actions.FAILED,\n    error: error\n  }); };\n\n  var doMarkAsOutdated = function () { return ({\n    type: actions.OUTDATED\n  }); };\n\n  var doClear = function () { return ({\n    type: actions.CLEARED\n  }); };\n\n  var doExpire = function () { return ({\n    type: actions.EXPIRED\n  }); };\n\n  var doFetchSuccess = function (payload) { return ({\n    type: actions.FINISHED,\n    payload: payload\n  }); };\n\n  var doFetchData = function () { return function (args) {\n    var dispatch = args.dispatch;\n    dispatch({\n      type: actions.STARTED\n    });\n    return opts.getPromise(args).then(function (payload) {\n      dispatch(doFetchSuccess(payload));\n    }, function (error) {\n      dispatch(doFetchError(error));\n    });\n  }; };\n\n  var initialState = {\n    data: null,\n    errorTimes: [],\n    errorType: null,\n    lastSuccess: null,\n    isOutdated: false,\n    isLoading: false,\n    isExpired: false,\n    failedPermanently: false\n  };\n  var result = {\n    name: name,\n    reducer: function (state, ref) {\n      if ( state === void 0 ) state = initialState;\n      var type = ref.type;\n      var payload = ref.payload;\n      var error = ref.error;\n      var merge = ref.merge;\n\n      if (type === actions.STARTED) {\n        return Object.assign({}, state, {\n          isLoading: true\n        });\n      }\n\n      if (type === actions.FINISHED) {\n        var updatedData;\n\n        if (merge) {\n          updatedData = Object.assign({}, state.data, payload);\n        } else {\n          updatedData = payload;\n        }\n\n        return Object.assign({}, state, {\n          isLoading: false,\n          data: updatedData,\n          lastSuccess: Date.now(),\n          errorTimes: [],\n          errorType: null,\n          failedPermanently: false,\n          isOutdated: false,\n          isExpired: false\n        });\n      }\n\n      if (type === actions.FAILED) {\n        var errorMessage = error && error.message || error;\n        return Object.assign({}, state, {\n          isLoading: false,\n          errorTimes: state.errorTimes.concat([Date.now()]),\n          errorType: errorMessage,\n          failedPermanently: !!(error && error.permanent)\n        });\n      }\n\n      if (type === actions.CLEARED) {\n        return initialState;\n      }\n\n      if (type === actions.EXPIRED) {\n        return Object.assign({}, initialState, {\n          isExpired: true,\n          errorTimes: state.errorTimes,\n          errorType: state.errorType\n        });\n      }\n\n      if (type === actions.OUTDATED) {\n        return Object.assign({}, state, {\n          isOutdated: true\n        });\n      }\n\n      return state;\n    }\n  };\n  result[inputSelectorName] = function (state) { return state[name]; };\n  result[dataSelectorName] = createSelector$1(inputSelectorName, function (root) { return root.data; });\n  result[isStaleSelectorName] = createSelector$1(inputSelectorName, lastSuccessSelectorName, 'selectAppTime', function (state, time, appTime) {\n      if (state.isOutdated) {\n        return true;\n      }\n\n      if (!time) {\n        return false;\n      }\n\n      return appTime - time > staleAfter;\n    });\n  result[isExpiredSelectorName] = createSelector$1(inputSelectorName, function (root) { return root.isExpired; });\n  result[lastErrorSelectorName] = createSelector$1(inputSelectorName, function (resource) { return resource.errorTimes.slice(-1)[0] || null; });\n  result[lastSuccessSelectorName] = createSelector$1(inputSelectorName, function (root) { return root.lastSuccess; });\n  result[isWaitingToRetrySelectorName] = createSelector$1(lastErrorSelectorName, 'selectAppTime', function (time, appTime) {\n      if (!time) {\n        return false;\n      }\n\n      return appTime - time < retryAfter;\n    });\n  result[isLoadingSelectorName] = createSelector$1(inputSelectorName, function (resourceState) { return resourceState.isLoading; });\n  result[failedPermanentlySelectorName] = createSelector$1(inputSelectorName, function (resourceState) { return resourceState.failedPermanently; });\n  result[shouldUpdateSelectorName] = createSelector$1(isLoadingSelectorName, failedPermanentlySelectorName, isWaitingToRetrySelectorName, dataSelectorName, isStaleSelectorName, 'selectIsOnline', function (isLoading, failedPermanently, isWaitingToRetry, data, isStale, isOnline) {\n      if (checkIfOnline && !isOnline || isLoading || failedPermanently || isWaitingToRetry) {\n        return false;\n      }\n\n      if (data === null) {\n        return true;\n      }\n\n      return isStale;\n    });\n  result[(\"doFetch\" + uCaseName)] = doFetchData;\n  result[(\"doMark\" + uCaseName + \"AsOutdated\")] = doMarkAsOutdated;\n  result[(\"doClear\" + uCaseName)] = doClear;\n  result[(\"doExpire\" + uCaseName)] = doExpire;\n\n  if (opts.persist) {\n    result.persistActions = [actions.FINISHED, actions.EXPIRED, actions.OUTDATED, actions.CLEARED];\n  }\n\n  if (expireAfter !== Infinity) {\n    result[(\"reactExpire\" + uCaseName)] = createSelector$1(lastSuccessSelectorName, 'selectAppTime', function (time, appTime) {\n      if (!time) {\n        return false;\n      }\n\n      if (appTime - time > expireAfter) {\n        return doExpire();\n      }\n    });\n  }\n\n  return result;\n});\n\nvar caching = (function (ref) {\n  var cacheFn = ref.cacheFn;\n  var logger = ref.logger;\n  var enabled = ref.enabled; if ( enabled === void 0 ) enabled = IS_BROWSER;\n\n  return {\n    name: 'localCache',\n    init: function (store) {\n      store.buildPersistActionMap = function () {\n        store.meta.persistActionMap = store.meta.chunks.reduce(function (actionMap, chunk) {\n          chunk.rawBundles.forEach(function (bundle) {\n            if (bundle.persistActions) {\n              bundle.persistActions.forEach(function (type) {\n                actionMap[type] || (actionMap[type] = []);\n                actionMap[type].push(bundle.name);\n              });\n            }\n          });\n          return actionMap;\n        }, {});\n      };\n\n      store.buildPersistActionMap();\n    },\n    getMiddleware: function () {\n      return function (store) { return function (next) { return function (action) {\n        var getState = store.getState;\n        var meta = store.meta;\n        var persistActionMap = meta.persistActionMap;\n        var reducersToPersist = persistActionMap[action.type];\n        var res = next(action);\n        var state = getState();\n\n        if (enabled && reducersToPersist) {\n          ric(function () {\n            Promise.all(reducersToPersist.map(function (key) { return cacheFn(key, state[key]); })).then(function () {\n              if (logger) {\n                logger((\"cached \" + (reducersToPersist.join(', ')) + \" due to \" + (action.type)));\n              }\n            });\n          }, {\n            timeout: 500\n          });\n        }\n\n        return res;\n      }; }; };\n    }\n  };\n});\n\nvar getError = function (message, permanent) {\n  if ( permanent === void 0 ) permanent = false;\n\n  var err = new Error(message);\n  if (permanent) { err.permanent = true; }\n  return err;\n};\n\nvar geoErrorArray = ['An unknown geolocation error occured', 'Geolocation permission denied', 'Geolocation unavailable', 'Geolocation request timed out'];\nvar defaultOpts$1 = {\n  timeout: 60000,\n  enableHighAccuracy: false,\n  persist: true,\n  staleAfter: 900000,\n  // fifteen minutes\n  retryAfter: 60000 // one minute,\n\n};\nvar geolocation = (function (spec) {\n  var opts = Object.assign({}, defaultOpts$1, spec);\n  return createAsyncResourceBundle({\n    name: 'geolocation',\n    actionBaseType: 'GEOLOCATION_REQUEST',\n    getPromise: function () { return new Promise(function (resolve, reject) {\n      if (!IS_BROWSER || !navigator.geolocation) {\n        reject(getError('Geolocation not supported', true));\n      }\n\n      var success = function (position) {\n        var res = {};\n        var coords = position.coords;\n\n        for (var key in coords) {\n          res[key] = coords[key];\n        }\n\n        res.timestamp = position.timestamp;\n        resolve(res);\n      };\n\n      var fail = function (ref) {\n        var code = ref.code;\n\n        reject(getError(geoErrorArray[code], code === 1));\n      };\n\n      var geoOpts = {\n        timeout: opts.timeout,\n        enableHighAccuracy: opts.enableHighAccuracy\n      };\n      navigator.geolocation.getCurrentPosition(success, fail, geoOpts);\n    }); },\n    persist: opts.persist,\n    staleAfter: opts.staleAfter,\n    retryAfter: opts.retryAfter\n  });\n});\n\nvar defaults$1 = {\n  idleTimeout: 30000,\n  idleAction: 'APP_IDLE',\n  doneCallback: null,\n  stopWhenTabInactive: true,\n  cancelIdleWhenDone: true,\n  reactorPermissionCheck: null\n};\nvar ricOptions = {\n  timeout: 500\n};\nvar getIdleDispatcher = function (stopWhenInactive, timeout, fn) { return debounce(function () {\n  // the requestAnimationFrame ensures it doesn't run when tab isn't active\n  stopWhenInactive ? raf(function () { return ric(fn, ricOptions); }) : ric(fn, ricOptions);\n}, timeout); };\nvar reactors = (function (spec) { return ({\n  name: 'reactors',\n  init: function (store) {\n    var ref = Object.assign({}, defaults$1, spec);\n    var idleAction = ref.idleAction;\n    var idleTimeout = ref.idleTimeout;\n    var cancelIdleWhenDone = ref.cancelIdleWhenDone;\n    var doneCallback = ref.doneCallback;\n    var stopWhenTabInactive = ref.stopWhenTabInactive;\n    var reactorPermissionCheck = ref.reactorPermissionCheck;\n    var idleDispatcher;\n\n    if (idleTimeout) {\n      idleDispatcher = getIdleDispatcher(stopWhenTabInactive, idleTimeout, function () { return store.dispatch({\n        type: idleAction\n      }); });\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      store.meta.reactorNames.forEach(function (name) {\n        if (!store[name]) {\n          throw Error((\"Reactor '\" + name + \"' not found on the store. Make sure you're defining as selector by that name.\"));\n        }\n      });\n    }\n\n    var cancelIfDone = function () {\n      if (!IS_BROWSER && !store.nextReaction && (!store.selectAsyncActive || !store.selectAsyncActive())) {\n        idleDispatcher && idleDispatcher.cancel();\n        doneCallback && doneCallback();\n      }\n    };\n\n    var dispatchNext = function () {\n      // one at a time\n      if (store.nextReaction) {\n        return;\n      } // look for the next one\n\n\n      store.meta.reactorNames.some(function (name) {\n        var result = store[name]();\n\n        if (result) {\n          // enable passing a fn to check whether a given reactor should be allowed\n          if (reactorPermissionCheck && !reactorPermissionCheck(name, result)) {\n            return;\n          }\n\n          store.activeReactor = name;\n          store.nextReaction = result;\n          return result;\n        }\n      });\n\n      if (store.nextReaction) {\n        // let browser chill\n        ric(function () {\n          var nextReaction = store.nextReaction;\n          store.activeReactor = null;\n          store.nextReaction = null;\n          store.dispatch(nextReaction);\n        }, ricOptions);\n      }\n    };\n\n    var callback = function () {\n      dispatchNext();\n\n      if (idleDispatcher) {\n        idleDispatcher();\n        cancelIdleWhenDone && cancelIfDone();\n      }\n    };\n\n    var unsubscribe = store.subscribe(callback);\n    callback();\n    return function () {\n      idleDispatcher && idleDispatcher.cancel();\n      unsubscribe();\n    };\n  }\n}); });\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encodeURIComponent(key);\n      value = encodeURIComponent(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nvar stringify = querystringify;\nvar parse = querystring;\n\nvar querystringify_1 = {\n\tstringify: stringify,\n\tparse: parse\n};\n\nvar isString = function (obj) { return Object.prototype.toString.call(obj) === '[object String]'; };\nvar isDefined = function (thing) { return typeof thing !== 'undefined'; };\nvar ensureString = function (input) { return isString(input) ? input : querystringify_1.stringify(input); };\nvar IPRE = /^[0-9.]+$/;\nvar parseSubdomains = function (hostname, getBareHost) {\n  if (IPRE.test(hostname)) { return []; }\n  var parts = hostname.split('.');\n\n  if (getBareHost) {\n    return parts.slice(-2).join('.');\n  }\n\n  return hostname.split('.').slice(0, -2);\n};\nvar removeLeading = function (char, string) { return string.charAt(0) === char ? string.slice(1) : string; };\nvar ensureLeading = function (char, string) {\n  if (string === char || string === '') {\n    return '';\n  }\n\n  return string.charAt(0) !== char ? char + string : string;\n};\n\nvar loc = (function () {\n  if (!HAS_WINDOW) { return {}; }\n  return window.location;\n})();\n\nvar defaults$2 = {\n  name: 'url',\n  inert: !HAS_WINDOW,\n  actionType: 'URL_UPDATED',\n  handleScrollRestoration: true\n};\n\nvar makeSerializable = function (url) {\n  var result = {};\n\n  for (var key in url) {\n    var val = url[key];\n\n    if (isString(val)) {\n      result[key] = val;\n    }\n  }\n\n  return result;\n};\n\nvar url = (function (opts) {\n  var config = Object.assign({}, defaults$2, opts);\n  var actionType = config.actionType;\n\n  var selectUrlRaw = function (state) { return state[config.name]; };\n\n  var selectUrlObject = createSelector$1(selectUrlRaw, function (urlState) { return makeSerializable(new URL(urlState.url)); });\n  var selectQueryObject = createSelector$1(selectUrlObject, function (urlObj) { return querystringify_1.parse(urlObj.search); });\n  var selectQueryString = createSelector$1(selectQueryObject, function (queryObj) { return querystringify_1.stringify(queryObj); });\n  var selectPathname = createSelector$1(selectUrlObject, function (urlObj) { return urlObj.pathname; });\n  var selectHash = createSelector$1(selectUrlObject, function (urlObj) { return removeLeading('#', urlObj.hash); });\n  var selectHashObject = createSelector$1(selectHash, function (hash) { return querystringify_1.parse(hash); });\n  var selectHostname = createSelector$1(selectUrlObject, function (urlObj) { return urlObj.hostname; });\n  var selectSubdomains = createSelector$1(selectHostname, function (hostname) { return parseSubdomains(hostname); });\n\n  var doUpdateUrl = function (newState, opts) {\n    if ( opts === void 0 ) opts = {\n    replace: false,\n    maintainScrollPosition: false\n  };\n\n    return function (ref) {\n    var dispatch = ref.dispatch;\n    var getState = ref.getState;\n\n    var state = newState;\n\n    if (typeof newState === 'string') {\n      var parsed = new URL(newState.charAt(0) === '/' ? 'http://example.com' + newState : newState);\n      state = {\n        pathname: parsed.pathname,\n        query: parsed.search || '',\n        hash: parsed.hash || ''\n      };\n    }\n\n    var url = new URL(selectUrlRaw(getState()).url);\n    if (isDefined(state.pathname)) { url.pathname = state.pathname; }\n    if (isDefined(state.hash)) { url.hash = ensureString(state.hash); }\n    if (isDefined(state.query)) { url.search = ensureString(state.query); }\n    dispatch({\n      type: actionType,\n      payload: {\n        url: url.href,\n        replace: opts.replace,\n        maintainScrollPosition: opts.maintainScrollPosition\n      }\n    });\n  };\n  };\n\n  var doReplaceUrl = function (url) { return doUpdateUrl(url, {\n    replace: true\n  }); };\n\n  var doUpdateQuery = function (query, opts) {\n    if ( opts === void 0 ) opts = {\n    replace: true\n  };\n\n    return doUpdateUrl({\n    query: ensureString(query)\n  }, opts);\n  };\n\n  var doUpdateHash = function (hash, opts) {\n    if ( opts === void 0 ) opts = {\n    replace: false\n  };\n\n    return doUpdateUrl({\n    hash: ensureLeading('#', ensureString(hash))\n  }, opts);\n  };\n\n  return {\n    name: config.name,\n    init: function (store) {\n      if (config.inert) { return; }\n      var removeScrollPosition = config.handleScrollRestoration ? initScrollPosition() : null;\n      var removePopstateListener = addGlobalListener('popstate', function () {\n        store.doUpdateUrl({\n          pathname: loc.pathname,\n          hash: loc.hash,\n          query: loc.search\n        });\n      });\n      var lastState = store.selectUrlRaw();\n      var unsubscribe = store.subscribe(function () {\n        var newState = store.selectUrlRaw();\n        var newUrl = newState.url;\n\n        if (lastState !== newState && newUrl !== loc.href) {\n          try {\n            window.history[newState.replace ? 'replaceState' : 'pushState']({}, null, newState.url);\n\n            if (config.handleScrollRestoration) {\n              saveScrollPosition();\n            }\n\n            if (!newState.maintainScrollPosition) {\n              window.scrollTo(0, 0);\n            }\n          } catch (e) {\n            console.error(e);\n          }\n        }\n\n        lastState = newState;\n      });\n      return function () {\n        if (removeScrollPosition) { removeScrollPosition(); }\n        removePopstateListener();\n        unsubscribe();\n      };\n    },\n    getReducer: function () {\n      var initialState = {\n        url: !config.inert && HAS_WINDOW ? loc.href : '/',\n        replace: false,\n        maintainScrollPosition: false\n      };\n      return function (state, ref) {\n        if ( state === void 0 ) state = initialState;\n        var type = ref.type;\n        var payload = ref.payload;\n\n        if (typeof state === 'string') {\n          return {\n            url: state,\n            replace: false,\n            maintainScrollPosition: false\n          };\n        }\n\n        if (type === actionType) {\n          return Object.assign({\n            url: payload.url || payload,\n            replace: !!payload.replace,\n            maintainScrollPosition: !!payload.maintainScrollPosition\n          });\n        }\n\n        return state;\n      };\n    },\n    doUpdateUrl: doUpdateUrl,\n    doReplaceUrl: doReplaceUrl,\n    doUpdateQuery: doUpdateQuery,\n    doUpdateHash: doUpdateHash,\n    selectUrlRaw: selectUrlRaw,\n    selectUrlObject: selectUrlObject,\n    selectQueryObject: selectQueryObject,\n    selectQueryString: selectQueryString,\n    selectPathname: selectPathname,\n    selectHash: selectHash,\n    selectHashObject: selectHashObject,\n    selectHostname: selectHostname,\n    selectSubdomains: selectSubdomains\n  };\n});\n\nvar version = \"26.1.0\";\n\nvar createDebug = (function (spec) {\n  var ENABLE = 'DEBUG_ENABLED';\n  var DISABLE = 'DEBUG_DISABLED';\n  var colorBlue = 'color: #1676D2;';\n  var colorGreen = 'color: #4CAF50;';\n  var colorOrange = 'color: #F57C00;'; // cleans up color vars when used in node\n\n  var log = function (toLog, ref) {\n    var method = ref.method; if ( method === void 0 ) method = 'log';\n    var label = ref.label;\n    var color = ref.color;\n\n    return console[method].apply(console, (IS_BROWSER ? [(\"%c\" + label), color, toLog] : [label, toLog]));\n  };\n\n  var defaultOpts = {\n    logSelectors: true,\n    logState: true,\n    enabled: HAS_DEBUG_FLAG,\n    actionFilter: null\n  };\n  var opts = Object.assign({}, defaultOpts, spec);\n  return {\n    name: 'debug',\n    reducer: function (state, ref) {\n      if ( state === void 0 ) state = opts.enabled;\n      var type = ref.type;\n\n      if (type === ENABLE) {\n        return true;\n      }\n\n      if (type === DISABLE) {\n        return false;\n      }\n\n      return state;\n    },\n    doEnableDebug: function () { return function (ref) {\n      var dispatch = ref.dispatch;\n\n      if (IS_BROWSER) {\n        try {\n          localStorage.debug = true;\n        } catch (e) {}\n      }\n\n      dispatch({\n        type: ENABLE\n      });\n    }; },\n    doDisableDebug: function () { return function (ref) {\n      var dispatch = ref.dispatch;\n\n      if (IS_BROWSER) {\n        try {\n          delete localStorage.debug;\n        } catch (e) {}\n      }\n\n      dispatch({\n        type: DISABLE\n      });\n    }; },\n    selectIsDebug: function (state) { return state.debug; },\n    getMiddleware: function () { return function (store) { return function (next) { return function (action) {\n      var isDebug = store.getState().debug;\n\n      if (!isDebug || opts.actionFilter && !opts.actionFilter(action)) {\n        return next(action);\n      }\n\n      console.group(action.type);\n      console.info('action:', action);\n      var result = next(action);\n      opts.logState && console.debug('state:', store.getState());\n      opts.logSelectors && store.doLogSelectors();\n      store.doLogNextReaction && store.doLogNextReaction();\n      console.groupEnd(action.type);\n      return result;\n    }; }; }; },\n    doLogBundles: function () { return function (ref) {\n      var store = ref.store;\n\n      log(store.meta.chunks.reduce(function (result, chunk) {\n        result.push.apply(result, chunk.bundleNames);\n        return result;\n      }, []), {\n        label: 'installed bundles:',\n        color: colorBlue\n      });\n    }; },\n    doLogSelectors: function () { return function (ref) {\n      var store = ref.store;\n\n      log(Object.keys(store.meta.unboundSelectors).sort().reduce(function (res, name$$1) {\n        res[name$$1] = store[name$$1]();\n        return res;\n      }, {}), {\n        label: 'selectors:',\n        color: colorGreen\n      });\n    }; },\n    doLogActionCreators: function () { return function (ref) {\n      var store = ref.store;\n\n      log(Object.keys(store.meta.unboundActionCreators).sort(), {\n        label: 'action creators:',\n        color: colorOrange\n      });\n    }; },\n    doLogReactors: function () { return function (ref) {\n      var store = ref.store;\n\n      log(store.meta.reactorNames, {\n        label: 'reactors:',\n        color: colorOrange\n      });\n    }; },\n    doLogNextReaction: function () { return function (ref) {\n      var store = ref.store;\n\n      var nextReaction = store.nextReaction;\n      var activeReactor = store.activeReactor;\n\n      if (nextReaction) {\n        log(nextReaction, {\n          color: colorOrange,\n          label: (\"next reaction \" + activeReactor + \":\")\n        });\n      }\n    }; },\n    doLogDebugSummary: function () { return function (ref) {\n      var store = ref.store;\n\n      store.doLogBundles();\n      store.doLogSelectors();\n      store.doLogActionCreators();\n      store.doLogReactors();\n      store.doLogNextReaction();\n    }; },\n    init: function (store) {\n      if (store.selectIsDebug()) {\n        if (IS_BROWSER) {\n          self.store = store;\n          console.groupCollapsed((\"%credux bundler v\" + version), colorBlue);\n          store.doLogDebugSummary();\n          console.groupEnd();\n        }\n      }\n    }\n  };\n});\n\nvar OFFLINE = 'OFFLINE';\nvar ONLINE = 'ONLINE';\nvar online = {\n  name: 'online',\n  selectIsOnline: function (state) { return state.online; },\n\n  getReducer: function getReducer() {\n    var initialState = IS_BROWSER ? navigator.onLine : true;\n    return function (state, ref) {\n      if ( state === void 0 ) state = initialState;\n      var type = ref.type;\n\n      if (type === OFFLINE) { return false; }\n      if (type === ONLINE) { return true; }\n      return state;\n    };\n  },\n\n  init: function init(store) {\n    var removeOnlineListener = addGlobalListener('online', function () { return store.dispatch({\n      type: ONLINE\n    }); });\n    var removeOfflineListener = addGlobalListener('offline', function () { return store.dispatch({\n      type: OFFLINE\n    }); });\n    return function () {\n      removeOnlineListener();\n      removeOfflineListener();\n    };\n  }\n\n};\n\nvar appTimeBundle = appTime;\nvar asyncCountBundle = asyncCount;\nvar createCacheBundle = caching;\nvar createRouteBundle = createRoutingBundle;\nvar createAsyncResourceBundle$1 = createAsyncResourceBundle;\nvar createReactorBundle = reactors;\nvar getIdleDispatcher$1 = getIdleDispatcher;\nvar onlineBundle = online;\nvar createUrlBundle = url;\nvar createDebugBundle = createDebug;\nvar composeBundlesRaw = composeBundles;\nvar createGeolocationBundle = geolocation;\nvar composeBundles$1 = function () {\n  var userBundles = [], len = arguments.length;\n  while ( len-- ) userBundles[ len ] = arguments[ len ];\n\n  userBundles || (userBundles = []);\n  var bundles = [appTime, asyncCount, online, url(), reactors(), createDebug() ].concat( userBundles);\n  return composeBundles.apply(void 0, bundles);\n};\n\nexport { appTimeBundle, asyncCountBundle, createCacheBundle, createRouteBundle, createAsyncResourceBundle$1 as createAsyncResourceBundle, createReactorBundle, getIdleDispatcher$1 as getIdleDispatcher, onlineBundle, createUrlBundle, createDebugBundle, composeBundlesRaw, createGeolocationBundle, composeBundles$1 as composeBundles, createSelector$1 as createSelector, resolveSelectors, HAS_DEBUG_FLAG, HAS_WINDOW, IS_BROWSER, IS_PROD, raf, ric, isPassiveSupported, PASSIVE_EVENTS_SUPPORTED, startsWith, flattenExtractedToObject, flattenExtractedToArray, addGlobalListener, selectorNameToValueName, debounce, saveScrollPosition, restoreScrollPosition, initScrollPosition, createStore, combineReducers, bindActionCreators, applyMiddleware, compose, ActionTypes as __DO_NOT_USE__ActionTypes };\n"]},"metadata":{},"sourceType":"module"}